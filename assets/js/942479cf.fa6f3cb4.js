"use strict";(self.webpackChunkdoc_hub=self.webpackChunkdoc_hub||[]).push([[9673],{12419:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/installed_node01-a55c5f01529017d09d7a24c53e0b4ff3.png"},28453:(e,s,n)=>{n.d(s,{R:()=>d,x:()=>t});var l=n(96540);const r={},c=l.createContext(r);function d(e){const s=l.useContext(c);return l.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),l.createElement(c.Provider,{value:s},e.children)}},41249:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/installed_master_node-4c11bb5811eb2dade322f3f0fec279c2.png"},42607:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/view_node_token-b8ecf6658812bb71c41961215ac05d8c.png"},50440:(e,s,n)=>{n.d(s,{A:()=>l});const l=n.p+"assets/images/installed_node02-4094afbf91963a0f5ad8106c8c922144.png"},61119:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>i,contentTitle:()=>t,default:()=>o,frontMatter:()=>d,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"CloudNative/Orchestration/K3s/\u5b89\u88c5K3s/\u5b89\u88c5K3s","title":"\u5b89\u88c5 K3s","description":"\u5b89\u88c5 K3s","source":"@site/docs/CloudNative/Orchestration/K3s/\u5b89\u88c5K3s/\u5b89\u88c5K3s.md","sourceDirName":"CloudNative/Orchestration/K3s/\u5b89\u88c5K3s","slug":"/cloud-native/orchestration/install-k3s","permalink":"/docs/cloud-native/orchestration/install-k3s","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/CloudNative/Orchestration/K3s/\u5b89\u88c5K3s/\u5b89\u88c5K3s.md","tags":[{"inline":true,"label":"K3s","permalink":"/docs/tags/k-3-s"},{"inline":true,"label":"CloudNative","permalink":"/docs/tags/cloud-native"}],"version":"current","frontMatter":{"title":"\u5b89\u88c5 K3s","description":"\u5b89\u88c5 K3s","slug":"/cloud-native/orchestration/install-k3s","hide_table_of_contents":false,"keywords":["K3s"],"tags":["K3s","CloudNative"],"date":"2017-08-01T00:00:00.000Z","categories":["Orchestration"]},"sidebar":"orchestrationSidebar","previous":{"title":"\u5b89\u88c5 K8s","permalink":"/docs/cloud-native/orchestration/install-k8s"},"next":{"title":"K3s \u7ba1\u7406\u5de5\u5177 Kuboard","permalink":"/docs/cloud-native/orchestration/k3s-kuboard"}}');var r=n(74848),c=n(28453);const d={title:"\u5b89\u88c5 K3s",description:"\u5b89\u88c5 K3s",slug:"/cloud-native/orchestration/install-k3s",hide_table_of_contents:!1,keywords:["K3s"],tags:["K3s","CloudNative"],date:new Date("2017-08-01T00:00:00.000Z"),categories:["Orchestration"]},t="\u5b89\u88c5 K3s",i={},a=[{value:"1.\u96c6\u7fa4\u89c4\u5212",id:"1\u96c6\u7fa4\u89c4\u5212",level:2},{value:"1.1 \u673a\u5668\u73af\u5883",id:"11-\u673a\u5668\u73af\u5883",level:3},{value:"2. \u524d\u7f6e\u51c6\u5907 (\u6240\u6709\u8282\u70b9)",id:"2-\u524d\u7f6e\u51c6\u5907-\u6240\u6709\u8282\u70b9",level:2},{value:"2.1 \u7981\u7528 selinux",id:"21-\u7981\u7528-selinux",level:3},{value:"2.2 \u7981\u7528\u9632\u706b\u5899",id:"22-\u7981\u7528\u9632\u706b\u5899",level:3},{value:"2.3 \u8bbe\u7f6e hosts",id:"23-\u8bbe\u7f6e-hosts",level:3},{value:"2.4 \u8bbe\u7f6e\u4e3b\u673a\u540d",id:"24-\u8bbe\u7f6e\u4e3b\u673a\u540d",level:3},{value:"2.5 \u8bbe\u7f6e\u65f6\u95f4\u540c\u6b65",id:"25-\u8bbe\u7f6e\u65f6\u95f4\u540c\u6b65",level:3},{value:"3. K3s \u5b89\u88c5",id:"3-k3s-\u5b89\u88c5",level:2},{value:"3.1 k3s Server \u8282\u70b9\u5b89\u88c5",id:"31-k3s-server-\u8282\u70b9\u5b89\u88c5",level:3},{value:"4.2 K3s Agent \u8282\u70b9\u5b89\u88c5",id:"42-k3s-agent-\u8282\u70b9\u5b89\u88c5",level:3},{value:"4.2.1 K3s Agent \u8282\u70b9 1 \u5b89\u88c5",id:"421-k3s-agent-\u8282\u70b9-1-\u5b89\u88c5",level:4},{value:"4.2.2 K3s Agent \u8282\u70b9 2 \u5b89\u88c5",id:"422-k3s-agent-\u8282\u70b9-2-\u5b89\u88c5",level:4},{value:"3. K3s \u5176\u4ed6",id:"3-k3s-\u5176\u4ed6",level:2},{value:"3.1 \u505c\u6b62 K3s",id:"31-\u505c\u6b62-k3s",level:3},{value:"3.1 K3s Server \u5378\u8f7d",id:"31-k3s-server-\u5378\u8f7d",level:3},{value:"3.2 K3s Agent \u5378\u8f7d",id:"32-k3s-agent-\u5378\u8f7d",level:3}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"\u5b89\u88c5-k3s",children:"\u5b89\u88c5 K3s"})}),"\n",(0,r.jsx)(s.h2,{id:"1\u96c6\u7fa4\u89c4\u5212",children:"1.\u96c6\u7fa4\u89c4\u5212"}),"\n",(0,r.jsx)(s.h3,{id:"11-\u673a\u5668\u73af\u5883",children:"1.1 \u673a\u5668\u73af\u5883"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"\u670d\u52a1\u5668 ip"}),(0,r.jsx)(s.th,{children:"\u4e3b\u673a\u540d"}),(0,r.jsx)(s.th,{children:"\u914d\u7f6e"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"192.168.0.115"}),(0,r.jsx)(s.td,{children:"k3s-master"}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"192.168.0.120"}),(0,r.jsx)(s.td,{children:"k3s-node01"}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"192.168.0.125"}),(0,r.jsx)(s.td,{children:"K3s-node02"}),(0,r.jsx)(s.td,{})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"2-\u524d\u7f6e\u51c6\u5907-\u6240\u6709\u8282\u70b9",children:"2. \u524d\u7f6e\u51c6\u5907 (\u6240\u6709\u8282\u70b9)"}),"\n",(0,r.jsx)(s.h3,{id:"21-\u7981\u7528-selinux",children:"2.1 \u7981\u7528 selinux"}),"\n",(0,r.jsx)(s.p,{children:"\u5728 K8s \u96c6\u7fa4\u7684\u6240\u6709\u8282\u70b9\u90fd\u6267\u884c:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# \u5c06 SELinux \u8bbe\u7f6e\u4e3a permissive \u6a21\u5f0f\uff08\u76f8\u5f53\u4e8e\u5c06\u5176\u7981\u7528\uff09\n## \u4e34\u65f6\nsetenforce 0\n\n## \u6c38\u4e45\u5173\u95ed\nsed -i 's/^SELINUX=enforcing$/SELINUX=disabled/' /etc/selinux/config\n"})}),"\n",(0,r.jsx)(s.h3,{id:"22-\u7981\u7528\u9632\u706b\u5899",children:"2.2 \u7981\u7528\u9632\u706b\u5899"}),"\n",(0,r.jsx)(s.p,{children:"\u5728 K8s \u96c6\u7fa4\u7684\u6240\u6709\u8282\u70b9\u90fd\u6267\u884c:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"systemctl stop firewalld\nsystemctl disable firewalld\n"})}),"\n",(0,r.jsx)(s.h3,{id:"23-\u8bbe\u7f6e-hosts",children:"2.3 \u8bbe\u7f6e hosts"}),"\n",(0,r.jsx)(s.p,{children:"\u5728 K8s \u96c6\u7fa4\u7684\u6240\u6709\u8282\u70b9\u90fd\u6267\u884c:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"cat >> /etc/hosts << EOF\n192.168.0.115 k3s-master\n192.168.0.120 k3s-node01\n192.168.0.125 k3s-node02\nEOF\n"})}),"\n",(0,r.jsx)(s.h3,{id:"24-\u8bbe\u7f6e\u4e3b\u673a\u540d",children:"2.4 \u8bbe\u7f6e\u4e3b\u673a\u540d"}),"\n",(0,r.jsxs)(s.p,{children:["\u767b\u9646\u5230 K3s \u96c6\u7fa4 Master \u8282\u70b9",(0,r.jsx)(s.code,{children:"192.168.0.115"}),"\u4e0a\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"hostnamectl set-hostname k3s-master\n"})}),"\n",(0,r.jsxs)(s.p,{children:["\u767b\u9646\u5230 K3s \u96c6\u7fa4 Node \u8282\u70b9",(0,r.jsx)(s.code,{children:"192.168.0.120"}),"\u4e0a\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"hostnamectl set-hostname k3s-node01\n"})}),"\n",(0,r.jsxs)(s.p,{children:["\u767b\u9646\u5230 K3s \u96c6\u7fa4 Master \u8282\u70b9",(0,r.jsx)(s.code,{children:"192.168.0.125"}),"\u4e0a\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"hostnamectl set-hostname k3s-node02\n"})}),"\n",(0,r.jsx)(s.h3,{id:"25-\u8bbe\u7f6e\u65f6\u95f4\u540c\u6b65",children:"2.5 \u8bbe\u7f6e\u65f6\u95f4\u540c\u6b65"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"yum install -y ntpdate\n\nntpdate  time1.aliyun.com\n"})}),"\n",(0,r.jsx)(s.h2,{id:"3-k3s-\u5b89\u88c5",children:"3. K3s \u5b89\u88c5"}),"\n",(0,r.jsx)(s.p,{children:"K3s \u96c6\u7fa4\u4e2d\u6709 2 \u7c7b\u8282\u70b9: Server \u8282\u70b9\u548c Agent \u8282\u70b9;"}),"\n",(0,r.jsx)(s.h3,{id:"31-k3s-server-\u8282\u70b9\u5b89\u88c5",children:"3.1 k3s Server \u8282\u70b9\u5b89\u88c5"}),"\n",(0,r.jsxs)(s.p,{children:["K3s \u63d0\u4f9b\u4e86\u4e00\u4e2a\u5b89\u88c5\u811a\u672c\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5730\u5c06\u5176\u4f5c\u4e3a\u670d\u52a1\u5b89\u88c5\u5728\u57fa\u4e8e systemd \u6216 openrc \u7684\u7cfb\u7edf\u4e0a\u3002\u8be5\u811a\u672c\u53ef\u5728 ",(0,r.jsx)(s.a,{href:"https://get.k3s.io/",children:"https://get.k3s.io"})," \u83b7\u5f97\u3002\u8981\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\u5b89\u88c5 K3s\uff0c\u53ea\u9700\u8fd0\u884c\uff1a"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"curl -sfL https://get.k3s.io | sh -\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"\u56fd\u5185\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\u52a0\u901f\u5b89\u88c5\uff1a"})}),"\n",(0,r.jsxs)(s.p,{children:["\u5728 ",(0,r.jsx)(s.code,{children:"192.168.0.115"})," \u673a\u5668\u4e0a\u6267\u884c\u4ee5\u4e0b\u811a\u672c:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'curl -sfL \\\n     https://rancher-mirror.rancher.cn/k3s/k3s-install.sh | \\\n     INSTALL_K3S_MIRROR=cn sh -s - \\\n     --system-default-registry "registry.cn-hangzhou.aliyuncs.com" \\\n     --write-kubeconfig ~/.kube/config \\\n     --write-kubeconfig-mode 666 \\\n     --disable traefik\n'})}),"\n",(0,r.jsx)(s.p,{children:"\u8fd0\u884c\u6b64\u5b89\u88c5\u540e\uff1a"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"K3s \u670d\u52a1\u5c06\u88ab\u914d\u7f6e\u4e3a\u5728\u8282\u70b9\u91cd\u542f\u540e\u6216\u8fdb\u7a0b\u5d29\u6e83\u6216\u88ab\u6740\u6b7b\u65f6\u81ea\u52a8\u91cd\u542f\u3002"}),"\n",(0,r.jsxs)(s.li,{children:["\u5c06\u5b89\u88c5\u5176\u4ed6\u5b9e\u7528\u7a0b\u5e8f\uff0c\u5305\u62ec ",(0,r.jsx)(s.code,{children:"kubectl"}),"\u3001",(0,r.jsx)(s.code,{children:"crictl"}),"\u3001",(0,r.jsx)(s.code,{children:"ctr"}),"\u3001",(0,r.jsx)(s.code,{children:"k3s-killall.sh"})," \u548c ",(0,r.jsx)(s.code,{children:"k3s-uninstall.sh"}),"\u3002"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/",children:"kubeconfig"})," \u6587\u4ef6\u5c06\u5199\u5165\u5230 ",(0,r.jsx)(s.code,{children:"/etc/rancher/k3s/k3s.yaml"}),"\uff0c\u7531 K3s \u5b89\u88c5\u7684 kubectl \u5c06\u81ea\u52a8\u4f7f\u7528\u8be5\u6587\u4ef6\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u5355\u8282\u70b9 Server \u5b89\u88c5\u5373\u662f\u4e00\u4e2a\u529f\u80fd\u9f50\u5168\u7684 Kubernetes \u96c6\u7fa4"}),"\uff0c\u5b83\u5305\u62ec\u4e86\u6258\u7ba1\u5de5\u4f5c\u8d1f\u8f7d pod \u6240\u9700\u7684\u6240\u6709\u6570\u636e\u5b58\u50a8\u3001control plane\u3001kubelet \u548c\u5bb9\u5668\u8fd0\u884c\u65f6\u7ec4\u4ef6\u3002\u9664\u975e\u4f60\u5e0c\u671b\u5411\u96c6\u7fa4\u6dfb\u52a0\u5bb9\u91cf\u6216\u5197\u4f59\uff0c\u5426\u5219\u6ca1\u6709\u5fc5\u8981\u6dfb\u52a0\u989d\u5916\u7684 Server \u6216 Agent \u8282\u70b9\u3002"]}),"\n",(0,r.jsxs)(s.p,{children:["\u5b89\u88c5\u4e4b\u540e\u5728 Server \u8282\u70b9\u4e0a\u6267\u884c ",(0,r.jsx)(s.code,{children:"kubectl get node -o wide"})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"installed_master_node",src:n(41249).A+"",width:"2918",height:"198"})}),"\n",(0,r.jsx)(s.h3,{id:"42-k3s-agent-\u8282\u70b9\u5b89\u88c5",children:"4.2 K3s Agent \u8282\u70b9\u5b89\u88c5"}),"\n",(0,r.jsxs)(s.p,{children:["\u8981\u5b89\u88c5\u5176\u4ed6 Agent \u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u6dfb\u52a0\u5230\u96c6\u7fa4\uff0c\u8bf7\u4f7f\u7528 ",(0,r.jsx)(s.code,{children:"K3S_URL"})," \u548c ",(0,r.jsx)(s.code,{children:"K3S_TOKEN"})," \u73af\u5883\u53d8\u91cf\u8fd0\u884c\u5b89\u88c5\u811a\u672c\u3002\u4ee5\u4e0b\u793a\u4f8b\u6f14\u793a\u4e86\u5982\u4f55\u6dfb\u52a0 Agent \u8282\u70b9\uff1a"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"curl -sfL https://get.k3s.io | K3S_URL=https://myserver:6443 K3S_TOKEN=mynodetoken sh -\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"\u4e2d\u56fd\u7528\u6237\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\u52a0\u901f\u5b89\u88c5\uff1a"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-text",children:"curl -sfL https://rancher-mirror.rancher.cn/k3s/k3s-install.sh | INSTALL_K3S_MIRROR=cn K3S_URL=https://myserver:6443 K3S_TOKEN=mynodetoken sh -\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.strong,{children:[(0,r.jsx)(s.code,{children:"K3S_URL"})," \u53c2\u6570\u4f1a\u5bfc\u81f4\u5b89\u88c5\u7a0b\u5e8f\u5c06 K3s \u914d\u7f6e\u4e3a Agent \u800c\u4e0d\u662f Server\uff0cK3s Agent \u5c06\u6ce8\u518c\u5230\u5728 URL \u4e0a\u76d1\u542c\u7684 K3s Server\uff1b"]})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.strong,{children:[(0,r.jsx)(s.code,{children:"K3S_TOKEN"})," \u4f7f\u7528\u7684\u503c\u5b58\u50a8\u5728 Server \u8282\u70b9\u4e0a\u7684 ",(0,r.jsx)(s.code,{children:"/var/lib/rancher/k3s/server/node-token"})," \u4e2d\uff1b"]})}),"\n",(0,r.jsxs)(s.p,{children:["\u66ff\u6362\u5b89\u88c5\u811a\u672c\u4e2d\u7684 K3S_URL: ",(0,r.jsx)(s.a,{href:"https://192.168.0.115:6443",children:"https://192.168.0.115:6443"})]}),"\n",(0,r.jsxs)(s.p,{children:["\u4ece ",(0,r.jsx)(s.code,{children:"192.168.0.115"})," \u673a\u5668\u4e0a\u83b7\u53d6 K3S_TOKEN \u7684\u503c:"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"view_node_token",src:n(42607).A+"",width:"2914",height:"158"})}),"\n",(0,r.jsx)(s.h4,{id:"421-k3s-agent-\u8282\u70b9-1-\u5b89\u88c5",children:"4.2.1 K3s Agent \u8282\u70b9 1 \u5b89\u88c5"}),"\n",(0,r.jsxs)(s.p,{children:["\u5728 ",(0,r.jsx)(s.code,{children:"192.168.0.120"})," \u673a\u5668\u4e0a\u6267\u884c\u4ee5\u4e0b\u811a\u672c:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"curl -sfL https://rancher-mirror.rancher.cn/k3s/k3s-install.sh | INSTALL_K3S_MIRROR=cn K3S_URL=https://192.168.0.115:6443 K3S_TOKEN=K10eb7d903c4a9fc0abaf9f61856f54b50a9a5c3a9680d8ed8b6c26bdce83c1dff4::server:2025f3e45d5e705909bca242471ce6cf sh -\n"})}),"\n",(0,r.jsxs)(s.p,{children:["\u5b89\u88c5\u4e4b\u540e\u5728 Server \u8282\u70b9\u4e0a\u6267\u884c ",(0,r.jsx)(s.code,{children:"kubectl get node -o wide"}),":"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"installed_node01",src:n(12419).A+"",width:"2926",height:"258"})}),"\n",(0,r.jsx)(s.h4,{id:"422-k3s-agent-\u8282\u70b9-2-\u5b89\u88c5",children:"4.2.2 K3s Agent \u8282\u70b9 2 \u5b89\u88c5"}),"\n",(0,r.jsxs)(s.p,{children:["\u5728 ",(0,r.jsx)(s.code,{children:"192.168.0.125"})," \u673a\u5668\u4e0a\u6267\u884c\u4ee5\u4e0b\u811a\u672c:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"curl -sfL https://rancher-mirror.rancher.cn/k3s/k3s-install.sh | INSTALL_K3S_MIRROR=cn K3S_URL=https://192.168.0.115:6443 K3S_TOKEN=K10eb7d903c4a9fc0abaf9f61856f54b50a9a5c3a9680d8ed8b6c26bdce83c1dff4::server:2025f3e45d5e705909bca242471ce6cf sh -\n"})}),"\n",(0,r.jsxs)(s.p,{children:["\u5b89\u88c5\u4e4b\u540e\u5728 Server \u8282\u70b9\u4e0a\u6267\u884c ",(0,r.jsx)(s.code,{children:"kubectl get node -o wide"}),":"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"installed_node02",src:n(50440).A+"",width:"2944",height:"328"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# \u8981\u4ece agent \u8282\u70b9\u5378\u8f7d K3s\uff0c\u8bf7\u8fd0\u884c\uff1a\n/usr/local/bin/k3s-agent-uninstall.sh\n"})}),"\n",(0,r.jsx)(s.h2,{id:"3-k3s-\u5176\u4ed6",children:"3. K3s \u5176\u4ed6"}),"\n",(0,r.jsx)(s.h3,{id:"31-\u505c\u6b62-k3s",children:"3.1 \u505c\u6b62 K3s"}),"\n",(0,r.jsx)(s.p,{children:"\u8981\u505c\u6b62\u6240\u6709 K3s \u5bb9\u5668\u5e76\u91cd\u7f6e\u5bb9\u5668\u72b6\u6001\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 k3s-killall.sh \u811a\u672c\u3002"}),"\n",(0,r.jsx)(s.p,{children:"killall \u811a\u672c\u80fd\u6e05\u7406\u5bb9\u5668\u3001K3s \u76ee\u5f55\u548c\u7f51\u7edc\u7ec4\u4ef6\uff0c\u540c\u65f6\u8fd8\u80fd\u5220\u9664 iptables \u94fe\u4ee5\u53ca\u6240\u6709\u76f8\u5173\u89c4\u5219\uff0c\u4f46\u96c6\u7fa4\u6570\u636e\u4e0d\u4f1a\u88ab\u5220\u9664\u3002\n\u8981\u505c\u6b62 K3s \u8bf7\u5728 Server \u8282\u70b9\u4e2d\u8fd0\u884c killall \u811a\u672c:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"/usr/local/bin/k3s-killall.sh\n"})}),"\n",(0,r.jsx)(s.h3,{id:"31-k3s-server-\u5378\u8f7d",children:"3.1 K3s Server \u5378\u8f7d"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# \u8981\u4ece server \u8282\u70b9\u5378\u8f7d K3s\uff0c\u8bf7\u8fd0\u884c\uff1a\n/usr/local/bin/k3s-uninstall.sh\n"})}),"\n",(0,r.jsx)(s.h3,{id:"32-k3s-agent-\u5378\u8f7d",children:"3.2 K3s Agent \u5378\u8f7d"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# \u8981\u4ece agent \u8282\u70b9\u5378\u8f7d K3s\uff0c\u8bf7\u8fd0\u884c\uff1a\n/usr/local/bin/k3s-agent-uninstall.sh\n"})})]})}function o(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);