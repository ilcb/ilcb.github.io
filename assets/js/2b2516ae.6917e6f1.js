"use strict";(self.webpackChunkdoc_hub=self.webpackChunkdoc_hub||[]).push([[199],{2615:(e,o,r)=>{r.d(o,{A:()=>n});const n=r.p+"assets/images/\u5bb9\u5668\u72b6\u6001-8e0f82306eb0b7151a567ef41d270255.jpg"},3445:(e,o,r)=>{r.d(o,{A:()=>n});const n=r.p+"assets/images/\u67e5\u8be2\u955c\u50cf-2c49f74366a2eaa882c644dee9bed4c0.jpg"},28453:(e,o,r)=>{r.d(o,{R:()=>s,x:()=>a});var n=r(96540);const c={},d=n.createContext(c);function s(e){const o=n.useContext(d);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),n.createElement(d.Provider,{value:o},e.children)}},39162:(e,o,r)=>{r.r(o),r.d(o,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>n,toc:()=>t});const n=JSON.parse('{"id":"CloudNative/Docker/Docker\u6784\u5efaZooKeeper/Docker\u6784\u5efaZooKeeper","title":"Docker \u6784\u5efa ZooKeeper","description":"Docker \u6784\u5efa ZooKeeper","source":"@site/docs/CloudNative/Docker/Docker\u6784\u5efaZooKeeper/Docker\u6784\u5efaZooKeeper.md","sourceDirName":"CloudNative/Docker/Docker\u6784\u5efaZooKeeper","slug":"/cloud-native/docker/build-zookeeper","permalink":"/docs/cloud-native/docker/build-zookeeper","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/CloudNative/Docker/Docker\u6784\u5efaZooKeeper/Docker\u6784\u5efaZooKeeper.md","tags":[{"inline":true,"label":"Docker","permalink":"/docs/tags/docker"},{"inline":true,"label":"CloudNative","permalink":"/docs/tags/cloud-native"}],"version":"current","frontMatter":{"title":"Docker \u6784\u5efa ZooKeeper","description":"Docker \u6784\u5efa ZooKeeper","slug":"/cloud-native/docker/build-zookeeper","hide_table_of_contents":false,"keywords":["Docker"],"tags":["Docker","CloudNative"],"date":"2017-08-01T00:00:00.000Z","categories":["Docker"]},"sidebar":"dockerSidebar","previous":{"title":"Docker \u6784\u5efa RocketMQ","permalink":"/docs/cloud-native/docker/build-rocketmq"},"next":{"title":"Docker \u6784\u5efa MySQL","permalink":"/docs/cloud-native/docker/build-mysql"}}');var c=r(74848),d=r(28453);const s={title:"Docker \u6784\u5efa ZooKeeper",description:"Docker \u6784\u5efa ZooKeeper",slug:"/cloud-native/docker/build-zookeeper",hide_table_of_contents:!1,keywords:["Docker"],tags:["Docker","CloudNative"],date:new Date("2017-08-01T00:00:00.000Z"),categories:["Docker"]},a=void 0,l={},t=[{value:"Docker \u6784\u5efa ZooKeeper",id:"docker-\u6784\u5efa-zookeeper",level:2},{value:"1.\u67e5\u8be2 ZooKeeper \u955c\u50cf",id:"1\u67e5\u8be2-zookeeper-\u955c\u50cf",level:2},{value:"2.\u62c9\u53d6\u955c\u50cf",id:"2\u62c9\u53d6\u955c\u50cf",level:2},{value:"3.\u6302\u8f7d\u914d\u7f6e\u76ee\u5f55",id:"3\u6302\u8f7d\u914d\u7f6e\u76ee\u5f55",level:2},{value:"4.\u542f\u52a8\u5bb9\u5668",id:"4\u542f\u52a8\u5bb9\u5668",level:2},{value:"\u53c2\u6570\u89e3\u6790",id:"\u53c2\u6570\u89e3\u6790",level:3},{value:"4.\u9a8c\u8bc1\u5bb9\u5668\u72b6\u6001",id:"4\u9a8c\u8bc1\u5bb9\u5668\u72b6\u6001",level:2}];function i(e){const o={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,d.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.h2,{id:"docker-\u6784\u5efa-zookeeper",children:"Docker \u6784\u5efa ZooKeeper"}),"\n",(0,c.jsx)(o.h2,{id:"1\u67e5\u8be2-zookeeper-\u955c\u50cf",children:"1.\u67e5\u8be2 ZooKeeper \u955c\u50cf"}),"\n",(0,c.jsx)(o.pre,{children:(0,c.jsx)(o.code,{className:"language-bash",children:"docker search zookeeper\n"})}),"\n",(0,c.jsx)(o.p,{children:(0,c.jsx)(o.img,{alt:"\u67e5\u8be2\u955c\u50cf",src:r(3445).A+"",width:"1838",height:"1010"})}),"\n",(0,c.jsx)(o.h2,{id:"2\u62c9\u53d6\u955c\u50cf",children:"2.\u62c9\u53d6\u955c\u50cf"}),"\n",(0,c.jsx)(o.pre,{children:(0,c.jsx)(o.code,{className:"language-bash",children:"docker pull zookeeper\n"})}),"\n",(0,c.jsx)(o.h2,{id:"3\u6302\u8f7d\u914d\u7f6e\u76ee\u5f55",children:"3.\u6302\u8f7d\u914d\u7f6e\u76ee\u5f55"}),"\n",(0,c.jsx)(o.p,{children:"\u5c06 redis \u7684\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u6302\u8f7d\uff0c\u4ee5\u914d\u7f6e\u6587\u4ef6\u65b9\u5f0f\u542f\u52a8 redis \u5bb9\u5668\u3002(\u6302\u8f7d\uff1a\u5373\u5c06\u5bbf\u4e3b\u7684\u6587\u4ef6\u548c\u5bb9\u5668\u5185\u90e8\u76ee\u5f55\u76f8\u5173\u8054\uff0c\u76f8\u4e92\u7ed1\u5b9a\uff0c\u5728\u5bbf\u4e3b\u673a\u5185\u4fee\u6539\u6587\u4ef6\u7684\u8bdd\u4e5f\u968f\u4e4b\u4fee\u6539\u5bb9\u5668\u5185\u90e8\u6587\u4ef6\uff09"}),"\n",(0,c.jsxs)(o.ul,{children:["\n",(0,c.jsx)(o.li,{children:"\u6570\u636e\u6302\u8f7d\u76ee\u5f55"}),"\n"]}),"\n",(0,c.jsx)(o.pre,{children:(0,c.jsx)(o.code,{className:"language-bash",children:"mkdir -p /data/docker/zookeeper/{data,conf,logs}\n"})}),"\n",(0,c.jsx)(o.h2,{id:"4\u542f\u52a8\u5bb9\u5668",children:"4.\u542f\u52a8\u5bb9\u5668"}),"\n",(0,c.jsx)(o.p,{children:"\u542f\u52a8 zookeeper \u5bb9\u5668"}),"\n",(0,c.jsx)(o.pre,{children:(0,c.jsx)(o.code,{className:"language-bash",children:"docker run -d \\\n           --name zookeeper \\\n           --privileged=true \\\n           --restart=always \\\n           -p 2181:2181 \\\n           zookeeper\n"})}),"\n",(0,c.jsx)(o.p,{children:"\u590d\u5236 zoo.cfg \u6587\u4ef6"}),"\n",(0,c.jsx)(o.pre,{children:(0,c.jsx)(o.code,{className:"language-bash",children:"docker cp zookeeper:/conf/zoo.cfg /data/docker/zookeeper/conf\n"})}),"\n",(0,c.jsx)(o.p,{children:"\u505c\u6b62\u5e76\u5220\u9664 zookeeper \u5bb9\u5668"}),"\n",(0,c.jsx)(o.pre,{children:(0,c.jsx)(o.code,{className:"language-bash",children:"docker stop zookeeper && docker rm zookeeper\n"})}),"\n",(0,c.jsx)(o.p,{children:"\u91cd\u542f\u5bb9\u5668\u5e76\u6302\u8f7d\u76ee\u5f55:"}),"\n",(0,c.jsx)(o.pre,{children:(0,c.jsx)(o.code,{className:"language-bash",children:"docker run -d \\\n           --name zookeeper \\\n           --privileged=true \\\n           --restart=always \\\n           -p 2181:2181 \\\n           -v /data/docker/zookeeper/data:/data \\\n           -v /data/docker/zookeeper/conf:/conf \\\n           -v /data/docker/zookeeper/logs:/datalog \\\n           zookeeper\n"})}),"\n",(0,c.jsx)(o.h3,{id:"\u53c2\u6570\u89e3\u6790",children:"\u53c2\u6570\u89e3\u6790"}),"\n",(0,c.jsxs)(o.blockquote,{children:["\n",(0,c.jsx)(o.p,{children:"-d\uff1a\u8868\u793a\u540e\u53f0\u542f\u52a8 zookeeper\uff1b"}),"\n",(0,c.jsx)(o.p,{children:"\u2013-name \u7ed9\u5bb9\u5668\u547d\u540d"}),"\n",(0,c.jsx)(o.p,{children:"-p 2181:2181: \u5c06\u5bbf\u4e3b\u673a 2181 \u7aef\u53e3\u4e0e\u5bb9\u5668\u5185 2181 \u7aef\u53e3\u8fdb\u884c\u6620\u5c04\uff0c\u5192\u53f7\u4e4b\u524d\u4e3a\u7269\u7406\u673a\u7aef\u53e3"}),"\n",(0,c.jsx)(o.p,{children:"-v \u5c06\u5bbf\u4e3b\u673a\u76ee\u5f55\u6216\u6587\u4ef6\u4e0e\u5bb9\u5668\u5185\u76ee\u5f55\u6216\u6587\u4ef6\u8fdb\u884c\u6302\u8f7d\u6620\u5c04\uff1b"}),"\n"]}),"\n",(0,c.jsx)(o.h2,{id:"4\u9a8c\u8bc1\u5bb9\u5668\u72b6\u6001",children:"4.\u9a8c\u8bc1\u5bb9\u5668\u72b6\u6001"}),"\n",(0,c.jsx)(o.pre,{children:(0,c.jsx)(o.code,{className:"language-bash",children:"docker exec -it zookeeper /bin/bash ./bin/zkServer.sh status\n"})}),"\n",(0,c.jsx)(o.p,{children:(0,c.jsx)(o.img,{alt:"\u5bb9\u5668\u72b6\u6001",src:r(2615).A+"",width:"1532",height:"256"})})]})}function p(e={}){const{wrapper:o}={...(0,d.R)(),...e.components};return o?(0,c.jsx)(o,{...e,children:(0,c.jsx)(i,{...e})}):i(e)}}}]);