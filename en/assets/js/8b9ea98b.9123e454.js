"use strict";(self.webpackChunkdoc_hub=self.webpackChunkdoc_hub||[]).push([[2159],{1053:(e,s,d)=>{d.d(s,{A:()=>i});const i=d.p+"assets/images/\u786e\u8ba4redis\u547d\u4ee4\u6267\u884c-93da860f031214bbe7adb5ea63a54b42.jpg"},28453:(e,s,d)=>{d.d(s,{R:()=>c,x:()=>l});var i=d(96540);const n={},r=i.createContext(n);function c(e){const s=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),i.createElement(r.Provider,{value:s},e.children)}},44356:(e,s,d)=>{d.d(s,{A:()=>i});const i=d.p+"assets/images/\u67e5\u8be2\u955c\u50cf-996f6560829bce56fc6d1dbdf6e0b637.jpg"},67832:(e,s,d)=>{d.d(s,{A:()=>i});const i=d.p+"assets/images/\u542f\u52a8\u72b6\u6001-85afb6ab80f1417816e81925d64be2da.jpg"},71399:(e,s,d)=>{d.r(s),d.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"CloudNative/Docker/Docker\u6784\u5efaRedis/Docker\u6784\u5efaRedis","title":"Docker \u6784\u5efa Redis","description":"Docker \u6784\u5efa Redis","source":"@site/docs/CloudNative/Docker/Docker\u6784\u5efaRedis/Docker\u6784\u5efaRedis.md","sourceDirName":"CloudNative/Docker/Docker\u6784\u5efaRedis","slug":"/cloud-native/docker/build-redis","permalink":"/en/docs/cloud-native/docker/build-redis","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/CloudNative/Docker/Docker\u6784\u5efaRedis/Docker\u6784\u5efaRedis.md","tags":[{"inline":true,"label":"Docker","permalink":"/en/docs/tags/docker"},{"inline":true,"label":"CloudNative","permalink":"/en/docs/tags/cloud-native"}],"version":"current","frontMatter":{"title":"Docker \u6784\u5efa Redis","description":"Docker \u6784\u5efa Redis","slug":"/cloud-native/docker/build-redis","hide_table_of_contents":false,"keywords":["Docker"],"tags":["Docker","CloudNative"],"date":"2017-08-01T00:00:00.000Z","categories":["Docker"]},"sidebar":"dockerSidebar","previous":{"title":"Docker \u6784\u5efa MinIO","permalink":"/en/docs/cloud-native/docker/build-minio"},"next":{"title":"Docker \u6784\u5efa Kafka","permalink":"/en/docs/cloud-native/docker/build-kafka"}}');var n=d(74848),r=d(28453);const c={title:"Docker \u6784\u5efa Redis",description:"Docker \u6784\u5efa Redis",slug:"/cloud-native/docker/build-redis",hide_table_of_contents:!1,keywords:["Docker"],tags:["Docker","CloudNative"],date:new Date("2017-08-01T00:00:00.000Z"),categories:["Docker"]},l=void 0,o={},a=[{value:"Docker \u6784\u5efa Redis",id:"docker-\u6784\u5efa-redis",level:2},{value:"1.\u67e5\u8be2 postgresql \u955c\u50cf",id:"1\u67e5\u8be2-postgresql-\u955c\u50cf",level:2},{value:"2.\u62c9\u53d6\u955c\u50cf",id:"2\u62c9\u53d6\u955c\u50cf",level:2},{value:"3.\u6302\u8f7d\u914d\u7f6e\u6587\u4ef6",id:"3\u6302\u8f7d\u914d\u7f6e\u6587\u4ef6",level:2},{value:"3.\u542f\u52a8\u5bb9\u5668",id:"3\u542f\u52a8\u5bb9\u5668",level:2},{value:"\u53c2\u6570\u89e3\u6790",id:"\u53c2\u6570\u89e3\u6790",level:3},{value:"4.\u67e5\u770b\u8fd0\u884c\u5bb9\u5668\u72b6\u6001",id:"4\u67e5\u770b\u8fd0\u884c\u5bb9\u5668\u72b6\u6001",level:2},{value:"5.\u786e\u8ba4 Redis \u547d\u4ee4",id:"5\u786e\u8ba4-redis-\u547d\u4ee4",level:2},{value:"\u542f\u52a8 Redis \u5ba2\u6237\u7aef",id:"\u542f\u52a8-redis-\u5ba2\u6237\u7aef",level:3}];function t(e){const s={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h2,{id:"docker-\u6784\u5efa-redis",children:"Docker \u6784\u5efa Redis"}),"\n",(0,n.jsx)(s.h2,{id:"1\u67e5\u8be2-postgresql-\u955c\u50cf",children:"1.\u67e5\u8be2 postgresql \u955c\u50cf"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"docker search redis\n"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"\u67e5\u8be2\u955c\u50cf",src:d(44356).A+"",width:"1960",height:"1026"})}),"\n",(0,n.jsx)(s.h2,{id:"2\u62c9\u53d6\u955c\u50cf",children:"2.\u62c9\u53d6\u955c\u50cf"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"docker pull redis:latest\n"})}),"\n",(0,n.jsx)(s.h2,{id:"3\u6302\u8f7d\u914d\u7f6e\u6587\u4ef6",children:"3.\u6302\u8f7d\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"mkdir -p /data/docker/redis/{data,conf}\n"})}),"\n",(0,n.jsx)(s.p,{children:"\u5c06 redis \u7684\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u6302\u8f7d\uff0c\u4ee5\u914d\u7f6e\u6587\u4ef6\u65b9\u5f0f\u542f\u52a8 redis \u5bb9\u5668\u3002(\u6302\u8f7d\uff1a\u5373\u5c06\u5bbf\u4e3b\u7684\u6587\u4ef6\u548c\u5bb9\u5668\u5185\u90e8\u76ee\u5f55\u76f8\u5173\u8054\uff0c\u76f8\u4e92\u7ed1\u5b9a\uff0c\u5728\u5bbf\u4e3b\u673a\u5185\u4fee\u6539\u6587\u4ef6\u7684\u8bdd\u4e5f\u968f\u4e4b\u4fee\u6539\u5bb9\u5668\u5185\u90e8\u6587\u4ef6\uff09"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"\u6302\u8f7d redis \u7684\u914d\u7f6e\u6587\u4ef6"}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"\u6302\u8f7d redis \u7684\u6301\u4e45\u5316\u6587\u4ef6"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"\u672c\u4eba\u7684\u914d\u7f6e\u6587\u4ef6\u662f\u653e\u5728"}),"\n",(0,n.jsxs)(s.p,{children:["redis.conf \u6587\u4ef6\u4f4d\u7f6e\uff1a ",(0,n.jsx)(s.code,{children:"/data/docker/redis/conf/redis.conf"})]}),"\n",(0,n.jsxs)(s.p,{children:["redis \u7684 data \u6587\u4ef6\u4f4d\u7f6e \uff1a ",(0,n.jsx)(s.code,{children:"/data/docker/redis/data"})]}),"\n",(0,n.jsx)(s.h2,{id:"3\u542f\u52a8\u5bb9\u5668",children:"3.\u542f\u52a8\u5bb9\u5668"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"docker run -itd \\\n           --name redis \\\n           --restart=always \\\n           --log-opt max-size=100m --log-opt max-file=2 \\\n           -p 6379:6379 \\\n           -v /data/docker/redis/conf/redis.conf:/etc/redis/redis.conf \\\n           -v /data/docker/redis/data:/data \\\n           -d redis redis-server /etc/redis/redis.conf \\\n           --appendonly yes\n"})}),"\n",(0,n.jsx)(s.h3,{id:"\u53c2\u6570\u89e3\u6790",children:"\u53c2\u6570\u89e3\u6790"}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsx)(s.p,{children:"-itd"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"i\uff1a\u4ee5\u4ea4\u4e92\u6a21\u5f0f\u8fd0\u884c\u5bb9\u5668\uff0c\u901a\u5e38\u4e0e -t \u540c\u65f6\u4f7f\u7528\uff1b"}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"t\uff1a\u4e3a\u5bb9\u5668\u91cd\u65b0\u5206\u914d\u4e00\u4e2a\u4f2a\u8f93\u5165\u7ec8\u7aef\uff0c\u901a\u5e38\u4e0e -i \u540c\u65f6\u4f7f\u7528\uff1b"}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"d\uff1a\u8868\u793a\u540e\u53f0\u542f\u52a8 redis\uff1b\u2013name \u7ed9\u5bb9\u5668\u547d\u540d"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"--restart=always: \u5f00\u673a\u542f\u52a8\uff0c\u5931\u8d25\u4e5f\u4f1a\u4e00\u76f4\u91cd\u542f\uff1b\n\u2013log-opt max-size=100m: \u610f\u5473\u7740\u4e00\u4e2a\u5bb9\u5668\u65e5\u5fd7\u5927\u5c0f\u4e0a\u9650\u662f 100M;\n\u2013log-opt max-file=2: \u610f\u5473\u7740\u4e00\u4e2a\u5bb9\u5668\u6709 2 \u4e2a\u65e5\u5fd7\uff0c\u5206\u522b\u662f id+.json\u3001id+1.json;\n-p 6379:6379: \u5c06\u5bbf\u4e3b\u673a 6379 \u7aef\u53e3\u4e0e\u5bb9\u5668\u5185 6379 \u7aef\u53e3\u8fdb\u884c\u6620\u5c04\uff0c\u5192\u53f7\u4e4b\u524d\u4e3a\u7269\u7406\u673a\u7aef\u53e3\n-v \u5c06\u5bbf\u4e3b\u673a\u76ee\u5f55\u6216\u6587\u4ef6\u4e0e\u5bb9\u5668\u5185\u76ee\u5f55\u6216\u6587\u4ef6\u8fdb\u884c\u6302\u8f7d\u6620\u5c04\uff1b\n\u2013appendonly yes: \u5f00\u542f redis \u6301\u4e45\u5316\uff1b\n\u2013requirepass password: \u8bbe\u7f6e\u5bc6\u7801\uff0c\u5e76\u4e14\u5c06\u5bc6\u7801\u8bbe\u7f6e\u4e3a\u9ad8\u5f3a\u5ea6\u590d\u6742\uff1b\nredis-server /etc/redis/redis.conf \u4ee5\u914d\u7f6e\u6587\u4ef6\u542f\u52a8 redis\uff0c\u52a0\u8f7d\u5bb9\u5668\u5185\u7684 conf \u6587\u4ef6\uff1b"}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"4\u67e5\u770b\u8fd0\u884c\u5bb9\u5668\u72b6\u6001",children:"4.\u67e5\u770b\u8fd0\u884c\u5bb9\u5668\u72b6\u6001"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"docker ps -a | grep redis\n"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"\u542f\u52a8\u72b6\u6001",src:d(67832).A+"",width:"1740",height:"120"})}),"\n",(0,n.jsx)(s.h2,{id:"5\u786e\u8ba4-redis-\u547d\u4ee4",children:"5.\u786e\u8ba4 Redis \u547d\u4ee4"}),"\n",(0,n.jsx)(s.h3,{id:"\u542f\u52a8-redis-\u5ba2\u6237\u7aef",children:"\u542f\u52a8 Redis \u5ba2\u6237\u7aef"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"docker exec -it redis redis-cli\nselect 1\nset key value\nget key\n"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"\u786e\u8ba4redis\u547d\u4ee4\u6267\u884c",src:d(1053).A+"",width:"1752",height:"360"})})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(t,{...e})}):t(e)}}}]);