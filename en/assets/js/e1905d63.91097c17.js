"use strict";(self.webpackChunkdoc_hub=self.webpackChunkdoc_hub||[]).push([[7540],{28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>o});var a=r(96540);const s={},i=a.createContext(s);function t(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),a.createElement(i.Provider,{value:n},e.children)}},33663:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/success1-9f2563374bb5fb5029dee3d629ea2d50.png"},39332:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/generate-b6826efd2f01ad5741faf92b05fe5eb1.png"},58220:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/success-226016eef5adeed174464bcef65c7004.png"},88227:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>t,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"Backend/Spring/SSM\u6574\u5408/SSM\u6574\u5408","title":"Spring-SpringMVC-Mybatis \u6574\u5408","description":"Spring-SpringMVC-Mybatis \u6574\u5408","source":"@site/docs/Backend/Spring/SSM\u6574\u5408/SSM\u6574\u5408.md","sourceDirName":"Backend/Spring/SSM\u6574\u5408","slug":"/backend/spring/ssm-integration","permalink":"/en/docs/backend/spring/ssm-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Backend/Spring/SSM\u6574\u5408/SSM\u6574\u5408.md","tags":[{"inline":true,"label":"Spring","permalink":"/en/docs/tags/spring"}],"version":"current","frontMatter":{"title":"Spring-SpringMVC-Mybatis \u6574\u5408","description":"Spring-SpringMVC-Mybatis \u6574\u5408","slug":"/backend/spring/ssm-integration","hide_table_of_contents":false,"keywords":["Spring"],"tags":["Spring"],"date":"2017-08-01T00:00:00.000Z","categories":["Spring"]},"sidebar":"backendSideBar","previous":{"title":"spring \u4e8b\u52a1\u7ba1\u7406","permalink":"/en/docs/backend/spring/bean-tx"},"next":{"title":"Spring AOP \u7406\u8bba","permalink":"/en/docs/backend/spring/aop"}}');var s=r(74848),i=r(28453);const t={title:"Spring-SpringMVC-Mybatis \u6574\u5408",description:"Spring-SpringMVC-Mybatis \u6574\u5408",slug:"/backend/spring/ssm-integration",hide_table_of_contents:!1,keywords:["Spring"],tags:["Spring"],date:new Date("2017-08-01T00:00:00.000Z"),categories:["Spring"]},o=void 0,p={},l=[{value:"\u57fa\u672c\u6982\u5ff5",id:"\u57fa\u672c\u6982\u5ff5",level:2},{value:"Spring",id:"spring",level:3},{value:"SpringMVC",id:"springmvc",level:3},{value:"MyBatis",id:"mybatis",level:3},{value:"SSM \u6574\u5408",id:"ssm-\u6574\u5408",level:2},{value:"\u914d\u7f6e\u6587\u4ef6",id:"\u914d\u7f6e\u6587\u4ef6",level:3},{value:"\u5de5\u7a0b\u76ee\u5f55",id:"\u5de5\u7a0b\u76ee\u5f55",level:3},{value:"pom.xml",id:"pomxml",level:3},{value:"Spring \u6574\u5408 Mybatis",id:"spring-\u6574\u5408-mybatis",level:2},{value:"\u6570\u636e\u6e90\u914d\u7f6e",id:"\u6570\u636e\u6e90\u914d\u7f6e",level:3},{value:"\u6574\u5408 spring \u548c mybatis",id:"\u6574\u5408-spring-\u548c-mybatis",level:3},{value:"log4j.properties",id:"log4jproperties",level:3},{value:"\u6d4b\u8bd5",id:"\u6d4b\u8bd5",level:3},{value:"\u65b0\u5efa\u8868 user",id:"\u65b0\u5efa\u8868-user",level:4},{value:"\u7528 Mybatis Generator \u751f\u6210 mybatis \u914d\u7f6e\u76f8\u5173\u6587\u4ef6",id:"\u7528-mybatis-generator-\u751f\u6210-mybatis-\u914d\u7f6e\u76f8\u5173\u6587\u4ef6",level:4},{value:"\u65b0\u5efa UserService \u63a5\u53e3\u53ca\u5b9e\u73b0\u7c7b",id:"\u65b0\u5efa-userservice-\u63a5\u53e3\u53ca\u5b9e\u73b0\u7c7b",level:4},{value:"\u65b0\u5efa\u6d4b\u8bd5\u7c7b\uff0c\u6d4b\u8bd5\u6574\u5408\u662f\u5426\u6210\u529f",id:"\u65b0\u5efa\u6d4b\u8bd5\u7c7b\u6d4b\u8bd5\u6574\u5408\u662f\u5426\u6210\u529f",level:4},{value:"\u6574\u5408 SpringMVC",id:"\u6574\u5408-springmvc",level:2},{value:"\u914d\u7f6e spring-mvc.xml",id:"\u914d\u7f6e-spring-mvcxml",level:3},{value:"\u914d\u7f6e web.xml",id:"\u914d\u7f6e-webxml",level:3},{value:"\u5728 WEB-INF/jsp/\u76ee\u5f55\u4e0b\u65b0\u5efa userList.jsp",id:"\u5728-web-infjsp\u76ee\u5f55\u4e0b\u65b0\u5efa-userlistjsp",level:3},{value:"\u65b0\u5efa UserController.java",id:"\u65b0\u5efa-usercontrollerjava",level:3},{value:"\u90e8\u7f72\u5e76\u8bbf\u95ee\u9879\u76ee",id:"\u90e8\u7f72\u5e76\u8bbf\u95ee\u9879\u76ee",level:3}];function c(e){const n={code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"\u57fa\u672c\u6982\u5ff5",children:"\u57fa\u672c\u6982\u5ff5"}),"\n",(0,s.jsx)(n.h3,{id:"spring",children:"Spring"}),"\n",(0,s.jsx)(n.p,{children:"Spring \u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u63a7\u5236\u53cd\u8f6c\uff08IoC\uff09\u548c\u9762\u5411\u5207\u9762\uff08AOP\uff09\u7684\u5bb9\u5668\u6846\u67b6\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"springmvc",children:"SpringMVC"}),"\n",(0,s.jsx)(n.p,{children:"Spring MVC \u5c5e\u4e8e SpringFrameWork \u7684 MVC \u7ec4\u4ef6\u3002Spring MVC \u5206\u79bb\u4e86\u63a7\u5236\u5668\u3001\u6a21\u578b\u5bf9\u8c61\u3001\u89c6\u56fe\u7b49\u89d2\u8272\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"mybatis",children:"MyBatis"}),"\n",(0,s.jsx)(n.p,{children:"MyBatis \u662f\u4e00\u4e2a\u57fa\u4e8e Java \u7684\u6301\u4e45\u5c42\u6846\u67b6\uff0c\u63d0\u4f9b\u7684\u6301\u4e45\u5c42\u6846\u67b6\u5305\u62ec SQL Maps \u548c Data Access Objects\uff08DAO\uff09\uff0cMyBatis \u6d88\u9664\u4e86\u51e0\u4e4e\u6240\u6709\u7684 JDBC \u4ee3\u7801\u548c\u53c2\u6570\u7684\u624b\u5de5\u8bbe\u7f6e\u4ee5\u53ca\u7ed3\u679c\u96c6\u7684\u68c0\u7d22\u3002MyBatis \u4f7f\u7528\u7b80\u5355\u7684 XML \u6216\u6ce8\u89e3\u7528\u4e8e\u914d\u7f6e\u548c\u539f\u59cb\u6620\u5c04\uff0c\u5c06\u63a5\u53e3\u548c Java \u7684 POJOs\uff08 Old Java Objects\uff0c\u666e\u901a\u7684 Java \u5bf9\u8c61\uff09\u6620\u5c04\u6210\u6570\u636e\u5e93\u4e2d\u7684\u8bb0\u5f55\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"ssm-\u6574\u5408",children:"SSM \u6574\u5408"}),"\n",(0,s.jsx)(n.h3,{id:"\u914d\u7f6e\u6587\u4ef6",children:"\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"dbconfig.properties\uff1a\u6570\u636e\u6e90\u914d\u7f6e\u4fe1\u606f"}),"\n",(0,s.jsx)(n.li,{children:"spring-mybatis.xml\uff1aSpring \u6574\u5408 Mybatis \u914d\u7f6e\u6587\u4ef6"}),"\n",(0,s.jsx)(n.li,{children:"spring-mvc.xml\uff1aSpringMVC \u914d\u7f6e"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u5de5\u7a0b\u76ee\u5f55",children:"\u5de5\u7a0b\u76ee\u5f55"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"structure",src:r(92741).A+"",width:"400",height:"712"})}),"\n",(0,s.jsx)(n.h3,{id:"pomxml",children:"pom.xml"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n    <groupId>me.ilcb.web</groupId>\n    <artifactId>ssm-demo</artifactId>\n    <packaging>war</packaging>\n    <version>1.0-SNAPSHOT</version>\n    <name>ssm-demo</name>\n    <url>http://maven.apache.org</url>\n\n    <properties>\n        <spring.version>4.3.9.RELEASE</spring.version>\n        <mybatis.version>3.4.4</mybatis.version>\n        <mybatis.spring.version>1.3.1</mybatis.spring.version>\n        <mysql.version>5.1.42</mysql.version>\n        <commons.dbcp.version>1.2.2</commons.dbcp.version>\n\n        <log4j.version>1.2.17</log4j.version>\n    </properties>\n    <dependencies>\n\n        \x3c!--Spring \u76f8\u5173jar\u5305--\x3e\n        <dependency>\n            <groupId>org.springframework</groupId>\n            <artifactId>spring-beans</artifactId>\n            <version>${spring.version}</version>\n        </dependency>\n\n        <dependency>\n            <groupId>org.springframework</groupId>\n            <artifactId>spring-context</artifactId>\n            <version>${spring.version}</version>\n        </dependency>\n\n        <dependency>\n            <groupId>org.springframework</groupId>\n            <artifactId>spring-jdbc</artifactId>\n            <version>${spring.version}</version>\n        </dependency>\n\n        <dependency>\n            <groupId>org.springframework</groupId>\n            <artifactId>spring-webmvc</artifactId>\n            <version>${spring.version}</version>\n        </dependency>\n\n        <dependency>\n            <groupId>org.springframework</groupId>\n            <artifactId>spring-test</artifactId>\n            <version>${spring.version}</version>\n        </dependency>\n\n        \x3c!-- Mybatis \u76f8\u5173jar\u5305--\x3e\n        <dependency>\n            <groupId>org.mybatis</groupId>\n            <artifactId>mybatis</artifactId>\n            <version>${mybatis.version}</version>\n        </dependency>\n\n        <dependency>\n            <groupId>org.mybatis</groupId>\n            <artifactId>mybatis-spring</artifactId>\n            <version>${mybatis.spring.version}</version>\n\n        </dependency>\n\n        \x3c!-- Mysql \u76f8\u5173jar\u5305--\x3e\n        <dependency>\n            <groupId>mysql</groupId>\n            <artifactId>mysql-connector-java</artifactId>\n            <version>${mysql.version}</version>\n        </dependency>\n\n        \x3c!-- dbcp\u6570\u636e\u6e90jar\u5305--\x3e\n        <dependency>\n            <groupId>commons-dbcp</groupId>\n            <artifactId>commons-dbcp</artifactId>\n            <version>${commons.dbcp.version}</version>\n        </dependency>\n\n        \x3c!-- log4j\u914d\u7f6e --\x3e\n        <dependency>\n            <groupId>log4j</groupId>\n            <artifactId>log4j</artifactId>\n            <version>${log4j.version}</version>\n        </dependency>\n\n        <dependency>\n            <groupId>junit</groupId>\n            <artifactId>junit</artifactId>\n            <version>4.12</version>\n            <scope>test</scope>\n        </dependency>\n    </dependencies>\n    <build>\n        <finalName>ssm-demo</finalName>\n        <plugins>\n            \x3c!-- Mybatis Generator\u63d2\u4ef6\uff0c\u53ef\u81ea\u52a8\u751f\u6210mybatis\u76f8\u5173\u914d\u7f6e--\x3e\n            <plugin>\n                <groupId>org.mybatis.generator</groupId>\n                <artifactId>mybatis-generator-maven-plugin</artifactId>\n                <version>1.3.5</version>\n                <configuration>\n                    <configurationFile>src/main/resources/generatorConfig.xml</configurationFile>\n                    <overwrite>true</overwrite>\n                </configuration>\n                <dependencies>\n                    <dependency>\n                        <groupId>org.mybatis.generator</groupId>\n                        <artifactId>mybatis-generator-core</artifactId>\n                        <version>1.3.2</version>\n                    </dependency>\n                </dependencies>\n            </plugin>\n        </plugins>\n\n        \x3c!-- \u7f16\u8bd1\u65f6\u5c06xml\u7b49\u914d\u7f6e\u6587\u4ef6\u4e00\u8d77\u62f7\u8d1d\u5230class\u76ee\u5f55\u4e0b--\x3e\n        <resources>\n            <resource>\n                <directory>src/main/resources</directory>\n                <includes>\n                    <include>**/*.properties</include>\n                    <include>**/*.xml</include>\n                </includes>\n            </resource>\n\n            <resource>\n                <directory>src/main/java</directory>\n                <includes>\n                    <include>**/*.properties</include>\n                    <include>**/*.xml</include>\n                </includes>\n            </resource>\n        </resources>\n    </build>\n</project>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"spring-\u6574\u5408-mybatis",children:"Spring \u6574\u5408 Mybatis"}),"\n",(0,s.jsx)(n.h3,{id:"\u6570\u636e\u6e90\u914d\u7f6e",children:"\u6570\u636e\u6e90\u914d\u7f6e"}),"\n",(0,s.jsx)(n.p,{children:"\u65b0\u5efa dbconfig.properties\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-properties",children:"driverClass=com.mysql.jdbc.Driver\nurl=jdbc:mysql://localhost:3306/ssm\nusername=root\npassword=root\n\ninitialSize=10\nmaxActive=10\nmaxIdle=10\nmaxWait=50000\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u6574\u5408-spring-\u548c-mybatis",children:"\u6574\u5408 spring \u548c mybatis"}),"\n",(0,s.jsx)(n.p,{children:"\u65b0\u5efa spring-mybatis.xml\uff0c\u7528\u6765\u5b8c\u6210\u81ea\u52a8\u626b\u63cf\uff0c\u81ea\u52a8\u6ce8\u5165\uff0c\u914d\u7f6e\u6570\u636e\u6e90\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans\n                           http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context\n                           http://www.springframework.org/schema/context/spring-context.xsd">\n\n    \x3c!-- \u81ea\u52a8\u626b\u63cf --\x3e\n    <context:component-scan base-package="me.ilcb.service"/>\n\n    \x3c!-- \u914d\u7f6e\u6587\u4ef6 --\x3e\n    <bean id="propertyPlaceholderConfigurer" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">\n        <property name="locations">\n            <list>\n                <value>classpath:dbconfig.properties</value>\n            </list>\n        </property>\n    </bean>\n\n    \x3c!-- \u6570\u636e\u6e90\u914d\u7f6e --\x3e\n    <bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource">\n        <property name="driverClassName" value="${driverClass}"/>\n        <property name="url" value="${url}"/>\n        <property name="username" value="${username}"/>\n        <property name="password" value="${password}"/>\n\n        \x3c!-- \u521d\u59cb\u5316\u8fde\u63a5\u5927\u5c0f --\x3e\n        <property name="initialSize" value="${initialSize}"/>\n        \x3c!-- \u8fde\u63a5\u6c60\u6700\u5927\u6570\u91cf --\x3e\n        <property name="maxActive" value="${maxActive}"/>\n        \x3c!-- \u8fde\u63a5\u6c60\u6700\u5927\u7a7a\u95f2 --\x3e\n        <property name="maxIdle" value="${maxIdle}"/>\n        \x3c!-- \u83b7\u53d6\u8fde\u63a5\u6700\u5927\u7b49\u5f85\u65f6\u95f4 --\x3e\n        <property name="maxWait" value="${maxWait}"/>\n    </bean>\n\n    \x3c!-- spring\u548cMyBatis\u6574\u5408\uff0c\u4e0d\u9700\u8981mybatis\u7684\u914d\u7f6e\u6620\u5c04\u6587\u4ef6 --\x3e\n    <bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean">\n        <property name="dataSource" ref="dataSource"/>\n\n        \x3c!-- \u81ea\u52a8\u626b\u63cfmapping.xml\u6587\u4ef6--\x3e\n        <property name="mapperLocations" value="classpath:me/ilcb/mapper/*.xml"/>\n    </bean>\n\n    \x3c!--DAO\u63a5\u53e3\u6240\u5728\u5305\uff0cspring\u81ea\u52a8\u67e5\u627e\u5176\u4e0b\u7684dao--\x3e\n    <bean class="org.mybatis.spring.mapper.MapperScannerConfigurer">\n        <property name="basePackage" value="me.ilcb.dao"/>\n\n        <property name="sqlSessionFactoryBeanName" value="sqlSessionFactory"/>\n    </bean>\n\n    \x3c!-- \u4e8b\u52a1\u7ba1\u7406--\x3e\n    <bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">\n        <property name="dataSource" ref="dataSource"/>\n    </bean>\n</beans>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"log4jproperties",children:"log4j.properties"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-properties",children:"#\u5b9a\u4e49LOG\u8f93\u51fa\u7ea7\u522b\nlog4j.rootLogger=INFO,Console,File  \n#\u5b9a\u4e49\u65e5\u5fd7\u8f93\u51fa\u76ee\u7684\u5730\u4e3a\u63a7\u5236\u53f0\nlog4j.appender.Console=org.apache.log4j.ConsoleAppender  \nlog4j.appender.Console.Target=System.out  \n#\u53ef\u4ee5\u7075\u6d3b\u5730\u6307\u5b9a\u65e5\u5fd7\u8f93\u51fa\u683c\u5f0f\uff0c\u4e0b\u9762\u4e00\u884c\u662f\u6307\u5b9a\u5177\u4f53\u7684\u683c\u5f0f\nlog4j.appender.Console.layout = org.apache.log4j.PatternLayout  \nlog4j.appender.Console.layout.ConversionPattern=[%c] - %m%n  \n\n#\u6587\u4ef6\u5927\u5c0f\u5230\u8fbe\u6307\u5b9a\u5c3a\u5bf8\u7684\u65f6\u5019\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6\nlog4j.appender.File = org.apache.log4j.RollingFileAppender  \n#\u6307\u5b9a\u8f93\u51fa\u76ee\u5f55\nlog4j.appender.File.File = logs/ssm.log  \n#\u5b9a\u4e49\u6587\u4ef6\u6700\u5927\u5927\u5c0f\nlog4j.appender.File.MaxFileSize = 10MB  \n# \u8f93\u51fa\u6240\u4ee5\u65e5\u5fd7\uff0c\u5982\u679c\u6362\u6210DEBUG\u8868\u793a\u8f93\u51faDEBUG\u4ee5\u4e0a\u7ea7\u522b\u65e5\u5fd7\nlog4j.appender.File.Threshold = ALL  \nlog4j.appender.File.layout = org.apache.log4j.PatternLayout  \nlog4j.appender.File.layout.ConversionPattern =[%p] [%d{yyyy-MM-dd HH\\:mm\\:ss}][%c]%m%n  \n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u6d4b\u8bd5",children:"\u6d4b\u8bd5"}),"\n",(0,s.jsx)(n.h4,{id:"\u65b0\u5efa\u8868-user",children:"\u65b0\u5efa\u8868 user"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE `user` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `name` varchar(12) DEFAULT NULL,\n  `age` int(3) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u7528-mybatis-generator-\u751f\u6210-mybatis-\u914d\u7f6e\u76f8\u5173\u6587\u4ef6",children:"\u7528 Mybatis Generator \u751f\u6210 mybatis \u914d\u7f6e\u76f8\u5173\u6587\u4ef6"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE generatorConfiguration PUBLIC\n        "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"\n        "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd" >\n<generatorConfiguration>\n    \x3c!-- \u6570\u636e\u5e93\u9a71\u52a8\u4f4d\u7f6e --\x3e\n    <classPathEntry location="E:\\repository\\mysql\\mysql-connector-java\\5.1.42\\mysql-connector-java-5.1.42.jar"/>\n\n    <context id="context" targetRuntime="MyBatis3">\n        <commentGenerator>\n            <property name="suppressAllComments" value="false"/>\n            <property name="suppressDate" value="true"/>\n        </commentGenerator>\n\n        \x3c!-- \u6570\u636e\u5e93\u8fde\u63a5 --\x3e\n        <jdbcConnection driverClass="com.mysql.jdbc.Driver" connectionURL="jdbc:mysql://localhost:3306/ssm" userId="root" password="root"/>\n\n        <javaTypeResolver>\n            <property name="forceBigDecimals" value="false"/>\n        </javaTypeResolver>\n\n        \x3c!-- \u751f\u6210\u7684model\u914d\u7f6e --\x3e\n        <javaModelGenerator targetPackage="me.ilcb.domain" targetProject="MAVEN">\n            <property name="enableSubPackages" value="false"/>\n            <property name="trimStrings" value="true"/>\n        </javaModelGenerator>\n\n        \x3c!-- \u751f\u6210\u7684mapper.xml\u914d\u7f6e --\x3e\n        <sqlMapGenerator targetPackage="me.ilcb.mapper" targetProject="MAVEN">\n            <property name="enableSubPackages" value="false"/>\n        </sqlMapGenerator>\n\n        \x3c!-- \u751f\u6210\u7684dao\u914d\u7f6e --\x3e\n        <javaClientGenerator targetPackage="me.ilcb.dao" targetProject="MAVEN" type="XMLMAPPER">\n            <property name="enableSubPackages" value="false"/>\n        </javaClientGenerator>\n\n        \x3c!-- \u6307\u5b9a\u90a3\u4e9b\u8868\u8981\u751f\u6210\u914d\u7f6e\uff0c%\u8868\u793a\u6240\u6709\u8868 --\x3e\n        <table tableName="%" enableCountByExample="false" enableDeleteByExample="false" enableSelectByExample="false"\n               enableUpdateByExample="false"/>\n    </context>\n</generatorConfiguration>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u5982\u679c\u662f IntelliJ IDEA\uff0c\u5728\u53f3\u4fa7\u5de5\u5177\u680f\u4e2d\u627e\u5230 maven\uff0c\u5728 maven \u4e2d\u4f9d\u6b21\u6253\u5f00 Plugins->mybatis-generator\uff0c\u70b9\u51fb mybatis-generator",":generate"," \u8fdb\u884c\u4ee3\u7801\u53ca\u914d\u7f6e\u751f\u6210\uff1a\n",(0,s.jsx)(n.img,{alt:"generate",src:r(39332).A+"",width:"524",height:"745"})]}),"\n",(0,s.jsx)(n.p,{children:"\u751f\u6210\u5b8c\u6210\u540e\u5728 target->generated-sources->mybatis-generator \u76ee\u5f55\u4e0b\u5c06\u751f\u6210\u7684\u6587\u4ef6\u62f7\u8d1d\u5230\u9879\u76ee\u5bf9\u5e94\u5305\u4e0b\uff1a\n1.User.java"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'package me.ilcb.domain;\n\npublic class User {\n    private Integer id;\n    private String name;\n    private Integer age;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name == null ? null : name.trim();\n    }\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return "User{" +\n                "id=" + id +\n                ", name=\'" + name + \'\\\'\' +\n                ", age=" + age +\n                \'}\';\n    }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"2.UserMapper.java"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"package me.ilcb.dao;\n\nimport me.ilcb.domain.User;\n\npublic interface UserMapper {\n    int deleteById(Integer id);\n    \n    int insert(User user);\n\n    int insertUser(User user);\n\n    User selectById(Integer id);\n\n    int updateUserById(User user);\n\n    int updateById(User user);\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"3.UserMapper.xml"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >\n<mapper namespace="me.ilcb.dao.UserMapper">\n    <resultMap id="BaseResultMap" type="me.ilcb.domain.User">\n        <id column="id" property="id" jdbcType="INTEGER"/>\n        <result column="name" property="name" jdbcType="VARCHAR"/>\n        <result column="age" property="age" jdbcType="INTEGER"/>\n    </resultMap>\n\n    <sql id="Base_Column_List">\n        id, name, age\n    </sql>\n\n    <select id="selectById" resultMap="BaseResultMap" parameterType="java.lang.Integer">\n        select\n        <include refid="Base_Column_List"/>\n        from user\n        where id = #{id,jdbcType=INTEGER}\n    </select>\n\n    <delete id="deleteById" parameterType="java.lang.Integer">\n        delete from user\n        where id = #{id,jdbcType=INTEGER}\n    </delete>\n\n    <insert id="insert" parameterType="me.ilcb.domain.User">\n        insert into user (id, name, age)\n        values (#{id,jdbcType=INTEGER}, #{name,jdbcType=VARCHAR}, #{age,jdbcType=INTEGER})\n    </insert>\n\n    <insert id="insertUser" parameterType="me.ilcb.domain.User">\n        insert into user\n        <trim prefix="(" suffix=")" suffixOverrides=",">\n            <if test="id != null">\n                id,\n            </if>\n            <if test="name != null">\n                name,\n            </if>\n            <if test="age != null">\n                age,\n            </if>\n        </trim>\n        <trim prefix="values (" suffix=")" suffixOverrides=",">\n            <if test="id != null">\n                #{id,jdbcType=INTEGER},\n            </if>\n            <if test="name != null">\n                #{name,jdbcType=VARCHAR},\n            </if>\n            <if test="age != null">\n                #{age,jdbcType=INTEGER},\n            </if>\n        </trim>\n    </insert>\n\n    <update id="updateUserById" parameterType="me.ilcb.domain.User">\n        update user\n        <set>\n            <if test="name != null">\n                name = #{name,jdbcType=VARCHAR},\n            </if>\n            <if test="age != null">\n                age = #{age,jdbcType=INTEGER},\n            </if>\n        </set>\n        where id = #{id,jdbcType=INTEGER}\n    </update>\n\n    <update id="updateById" parameterType="me.ilcb.domain.User">\n        update user\n        set name = #{name,jdbcType=VARCHAR},\n             age = #{age,jdbcType=INTEGER}\n        where id = #{id,jdbcType=INTEGER}\n    </update>\n</mapper>\n'})}),"\n",(0,s.jsx)(n.h4,{id:"\u65b0\u5efa-userservice-\u63a5\u53e3\u53ca\u5b9e\u73b0\u7c7b",children:"\u65b0\u5efa UserService \u63a5\u53e3\u53ca\u5b9e\u73b0\u7c7b"}),"\n",(0,s.jsx)(n.p,{children:"1.IUserService.java"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"package me.ilcb.service;\n\nimport me.ilcb.domain.User;\n\npublic interface IUserService {\n    int deleteById(Integer id);\n\n    int insert(User user);\n\n    int insertUser(User user);\n\n    User selectById(Integer id);\n\n    int updateUserById(User user);\n\n    int updateById(User user);\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"2.UserService"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'package me.ilcb.service.impl;\n\nimport me.ilcb.dao.UserMapper;\nimport me.ilcb.domain.User;\nimport me.ilcb.service.IUserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service(value = "userService")\npublic class UserService implements IUserService {\n    @Autowired\n    private UserMapper userMapper;\n\n    public int deleteById(Integer id) {\n        int result = userMapper.deleteById(id);\n        return result;\n    }\n\n    public int insert(User user) {\n        int result = userMapper.insert(user);\n        return result;\n    }\n\n    public int insertUser(User user) {\n        int result = userMapper.insertUser(user);\n        return result;\n    }\n\n    public User selectById(Integer id) {\n        User user = userMapper.selectById(id);\n        return user;\n    }\n\n    public int updateUserById(User user) {\n        int result = userMapper.updateUserById(user);\n        return result;\n    }\n\n    public int updateById(User user) {\n        int result = userMapper.updateById(user);\n        return result;\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h4,{id:"\u65b0\u5efa\u6d4b\u8bd5\u7c7b\u6d4b\u8bd5\u6574\u5408\u662f\u5426\u6210\u529f",children:"\u65b0\u5efa\u6d4b\u8bd5\u7c7b\uff0c\u6d4b\u8bd5\u6574\u5408\u662f\u5426\u6210\u529f"}),"\n",(0,s.jsx)(n.p,{children:"1.UserTest.java"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'import me.ilcb.domain.User;\nimport me.ilcb.service.impl.UserService;\nimport org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = {"classpath:spring-mybatis.xml"})\npublic class UserTest {\n    @Autowired\n    private UserService userService;\n\n    @Test\n    public void test() {\n        User user = new User();\n        user.setName("aaa");\n        user.setAge(20);\n\n        int result = userService.insert(user);\n        Assert.assertEquals(result, 1);\n\n        user = userService.selectById(1);\n        Assert.assertEquals(user.getName(), "aaa");\n\n        System.out.println(user);\n    }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["2.\u8fd0\u884c\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6574\u5408\u6210\u529f\uff1a\n",(0,s.jsx)(n.img,{alt:"success",src:r(58220).A+"",width:"1523",height:"255"}),"\n",(0,s.jsx)(n.strong,{children:"\u81f3\u6b64 Spring \u548c Mybatis \u6574\u5408\u6210\u529f"})]}),"\n",(0,s.jsx)(n.h2,{id:"\u6574\u5408-springmvc",children:"\u6574\u5408 SpringMVC"}),"\n",(0,s.jsx)(n.h3,{id:"\u914d\u7f6e-spring-mvcxml",children:"\u914d\u7f6e spring-mvc.xml"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n<beans xmlns="http://www.springframework.org/schema/beans"\n       xmlns:context="http://www.springframework.org/schema/context"\n       xmlns:mvc="http://www.springframework.org/schema/mvc"\n       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n       xsi:schemaLocation="http://www.springframework.org/schema/beans\n                           http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context\n                           http://www.springframework.org/schema/context/spring-context.xsd\n                           http://www.springframework.org/schema/mvc\n                           http://www.springframework.org/schema/mvc/spring-mvc.xsd">\n\n    \x3c!-- \u81ea\u52a8\u626b\u63cfcontroller --\x3e\n    <context:component-scan base-package="me.ilcb.controller" />\n\n    \x3c!--\u81ea\u52a8\u6ce8\u518cDefaultAnnotationHandlerMapping,AnnotationMethodHandlerAdapter,\u8fd92\u4e2abean\u662fspring MVC\u4e3a@Controllers\u5206\u53d1\u8bf7\u6c42\u6240\u5fc5\u987b;\u540c\u65f6\u63d0\u4f9b\u6570\u636e\u7ed1\u5b9a@NumberFormatannotation\u652f\u6301\uff0c@DateTimeFormat\u652f\u6301\uff0c@Valid\u652f\u6301\uff0c\u8bfb\u5199XML\u7684\u652f\u6301\uff08JAXB\uff09\uff0c\u8bfb\u5199JSON\u7684\u652f\u6301\uff08Jackson\uff09\u3002\u5904\u7406\u54cd\u5e94ajax\u8bf7\u6c42\u65f6\uff0c\u5c31\u4f7f\u7528\u5230\u4e86\u5bf9json\u7684\u652f\u6301\uff0c\u5728action\u5199JUnit\u5355\u5143\u6d4b\u8bd5\u65f6\uff0c\u8981\u4ecespring IOC\u5bb9\u5668\u4e2d\u53d6DefaultAnnotationHandlerMapping\u4e0eAnnotationMethodHandlerAdapter\u6765\u5b8c\u6210\u6d4b\u8bd5\uff0c<mvc:annotation-driven/>\u5c31\u6ce8\u518c\u8fd9\u4e24\u4e2abean\u3002                                 \n\u5f53\u9700\u8981controller\u8fd4\u56de\u4e00\u4e2amap\u7684json\u5bf9\u8c61\u65f6\uff0c\u53ef\u4ee5\u4e3a<mvc:annotation-driven/>\u8bbe\u5b9a<mvc:message-converters>\u6765\u8bbe\u5b9a\u5b57\u7b26\u96c6\u548cjson\u5904\u7406\u7c7b\uff0c\u4f8b\u5982\uff1a                 <mvc:annotation-driven>                                                                                     \n         <mvc:message-converters>                                                                                \n             <bean class="org.springframework.http.converter.StringHttpMessageConverter">                        \n                 <property name="supportedMediaTypes">                                                           \n                     <list>                                                                                      \n                         <value>text/;charset=UTF-8</value>                                                 \n                     </list>                                                                                     \n                 </property>                                                                                     \n             </bean>                                                                                             \n        </mvc:message-converters>                                                                                \n    </mvc:annotation-driven>--\x3e                                                                               \n    <mvc:annotation-driven/>\n\n    \x3c!-- \u5b9a\u4e49\u89c6\u56fe\u89e3\u6790\u5668--\x3e\n    <bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver">\n        <property name="prefix" value="/WEB-INF/jsp/"/>\n        <property name="suffix" value=".jsp"/>\n    </bean>\n</beans>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u914d\u7f6e-webxml",children:"\u914d\u7f6e web.xml"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN" \n        "http://java.sun.com/dtd/web-app_2_3.dtd" >\n\n<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xmlns="http://java.sun.com/xml/ns/javaee"\n         xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"\n         version="3.0">\n    <display-name>Archetype Created Web Application</display-name>\n\n    \x3c!-- Spring\u76d1\u542c\u5668 --\x3e\n    <listener>\n        <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>\n    </listener>\n\n    <context-param>\n        <param-name>contextConfigLocation</param-name>\n        <param-value>classpath:spring-mybatis.xml</param-value>\n    </context-param>\n\n    <servlet>\n        <servlet-name>springMVC</servlet-name>\n        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\n        <init-param>\n            <param-name>contextConfigLocation</param-name>\n            <param-value>classpath:spring-mvc.xml</param-value>\n        </init-param>\n        <load-on-startup>1</load-on-startup>\n    </servlet>\n    <servlet-mapping>\n        <servlet-name>springMVC</servlet-name>\n        <url-pattern>/</url-pattern>\n    </servlet-mapping>\n</web-app>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u5728-web-infjsp\u76ee\u5f55\u4e0b\u65b0\u5efa-userlistjsp",children:"\u5728 WEB-INF/jsp/\u76ee\u5f55\u4e0b\u65b0\u5efa userList.jsp"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsp",children:'<%@ page contentType="text/html;charset=UTF-8" language="java" %>\n<html>\n<head>\n    <title>Title</title>\n</head>\n<body>\n    \u59d3\u540d:${user.name}\n    \u5e74\u9f84:${user.age}\n</body>\n</html>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u65b0\u5efa-usercontrollerjava",children:"\u65b0\u5efa UserController.java"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'package me.ilcb.controller;\n\nimport me.ilcb.domain.User;\nimport me.ilcb.service.impl.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping("/")\npublic class UserController {\n    @Autowired\n    private UserService userService;\n\n    @RequestMapping(value = "user/{id}")\n    public String showUsers(@PathVariable Integer id, Model Model) {\n        User user = userService.selectById(id);\n        if (user != null) {\n            Model.addAttribute(user);\n        }\n        return "userList";\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u90e8\u7f72\u5e76\u8bbf\u95ee\u9879\u76ee",children:"\u90e8\u7f72\u5e76\u8bbf\u95ee\u9879\u76ee"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{alt:"success1",src:r(33663).A+"",width:"1210",height:"828"}),"\n",(0,s.jsx)(n.strong,{children:"\u81f3\u6b64\uff0cSpring\u3001SpringMVC\u3001Mybatis \u6574\u5408\u5168\u90e8\u5b8c\u6210"})]})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},92741:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/structure-b6b8b5a8b221e82c395ab13198fdb382.png"}}]);