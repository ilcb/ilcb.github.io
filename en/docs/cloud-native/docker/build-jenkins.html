<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-CloudNative/Docker/Docker构建Jenkins/Docker构建Jenkins" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Docker 构建 Jenkins | DocHub</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ilcb.github.io/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ilcb.github.io/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ilcb.github.io/en/docs/cloud-native/docker/build-jenkins"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="algolia-site-verification" content="7AC2C149ACF91D98"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Docker 构建 Jenkins | DocHub"><meta data-rh="true" name="description" content="Docker 构建 Jenkins"><meta data-rh="true" property="og:description" content="Docker 构建 Jenkins"><meta data-rh="true" name="keywords" content="Docker,Jenkins"><link data-rh="true" rel="icon" href="/en/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ilcb.github.io/en/docs/cloud-native/docker/build-jenkins"><link data-rh="true" rel="alternate" href="https://ilcb.github.io/docs/cloud-native/docker/build-jenkins" hreflang="zh"><link data-rh="true" rel="alternate" href="https://ilcb.github.io/en/docs/cloud-native/docker/build-jenkins" hreflang="en"><link data-rh="true" rel="alternate" href="https://ilcb.github.io/docs/cloud-native/docker/build-jenkins" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://D6I4GUBDWN-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/en/blog/rss.xml" title="DocHub RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/blog/atom.xml" title="DocHub Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="DocHub" href="/en/opensearch.xml"><link rel="stylesheet" href="/en/assets/css/styles.ea66e0ae.css">
<script src="/en/assets/js/runtime~main.4a130e80.js" defer="defer"></script>
<script src="/en/assets/js/main.563ba276.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/en/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/en/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">DocHub</b></a><a class="navbar__item navbar__link" href="/en/docs/backend/java/io">后端</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Wiki</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/docs/backend/algorithm/sort">算法</a></li><li><a class="dropdown__link" href="/en/docs/backend/design-pattern/rules">设计模式</a></li><li><a class="dropdown__link" href="/en/docs/wiki/uml/class">UML</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">云原生</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/en/docs/cloud-native/docker/install">容器</a></li><li><a class="dropdown__link" href="/en/docs/cloud-native/harbor/install-harbor">镜像仓库</a></li><li><a class="dropdown__link" href="/en/docs/cloud-native/orchestration/install-k8s">容器编排</a></li></ul></div><a class="navbar__item navbar__link" href="/en/docs/Tools/消息队列/RabbitMQ原理">工具</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/cloud-native/docker/install">安装 Docker</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/en/docs/cloud-native/docker/build-minio">Docker构建</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/cloud-native/docker/build-minio">Docker 构建 MinIO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/cloud-native/docker/build-redis">Docker 构建 Redis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/cloud-native/docker/build-kafka">Docker 构建 Kafka</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/cloud-native/docker/build-ngnix">Docker 构建 Nginx</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/cloud-native/docker/build-nacos">Docker 构建 Nacos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/cloud-native/docker/build-mongo">Docker 构建 MongoDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/cloud-native/docker/build-rabbitmq">Docker 构建 RabbitMQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/cloud-native/docker/build-rocketmq">Docker 构建 RocketMQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/cloud-native/docker/build-zookeeper">Docker 构建 ZooKeeper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/cloud-native/docker/build-mysql">Docker 构建 MySQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/cloud-native/docker/build-postgresql">Docker 构建 PostgreSQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/cloud-native/docker/build-prometheus">Docker 构建 Prometheus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/cloud-native/docker/build-elk">Docker 构建 ELK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/cloud-native/docker/build-onlyoffice-cluster">Docker 构建 OnlyOffice 集群</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/docs/cloud-native/docker/build-jenkins">Docker 构建 Jenkins</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Docker构建</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Docker 构建 Jenkins</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Docker 构建 Jenkins</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="软件环境">软件环境<a href="#软件环境" class="hash-link" aria-label="Direct link to 软件环境" title="Direct link to 软件环境">​</a></h2>
<table><thead><tr><th>名称</th></tr></thead><tbody><tr><td>jdk-1.8.0_232</td></tr><tr><td>SUSE Linux</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="前置准备">前置准备<a href="#前置准备" class="hash-link" aria-label="Direct link to 前置准备" title="Direct link to 前置准备">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="安装-jdk">安装 jdk<a href="#安装-jdk" class="hash-link" aria-label="Direct link to 安装 jdk" title="Direct link to 安装 jdk">​</a></h3>
<p>下载安装 jdk 环境</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://www.oracle.com/java/technologies/downloads/</span><span class="token comment" style="color:#999988;font-style:italic">#license-lightbox</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>安装 jdk</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">rpm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-ivh</span><span class="token plain"> jdk-8u371-linux-aarch64.rpm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>配置环境变量</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">vi</span><span class="token plain"> /etc/profile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#配置jdk环境</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">JAVA_HOME</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/opt/oracle-jdk-8u371</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:#36acaa">PATH</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$JAVA_HOME</span><span class="token plain">/bin:</span><span class="token environment constant" style="color:#36acaa">$PATH</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">CLASSPATH</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">.:</span><span class="token variable" style="color:#36acaa">$JAVA_HOME</span><span class="token plain">/lib/dt.jar:</span><span class="token variable" style="color:#36acaa">$JAVA_HOME</span><span class="token plain">/lib/tools.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="安装-maven">安装 Maven<a href="#安装-maven" class="hash-link" aria-label="Direct link to 安装 Maven" title="Direct link to 安装 Maven">​</a></h3>
<p>下载 maven 安装包</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://dlcdn.apache.org/maven/maven-3/3.9.1/binaries/apache-maven-3.9.1-bin.tar.gz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>安装 maven</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-zxvf</span><span class="token plain"> apache-maven-3.9.1-bin.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mv</span><span class="token plain"> apache-maven-3.9.1 opt/apache-maven-3.9.1 </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>配置 Maven 环境</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">vi</span><span class="token plain"> /etc/profile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">MAVEN_HOME</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/opt/apache-maven-3.9.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:#36acaa">PATH</span><span class="token operator" style="color:#393A34">=</span><span class="token environment constant" style="color:#36acaa">$PATH</span><span class="token builtin class-name">:</span><span class="token variable" style="color:#36acaa">$MAVEN_HOME</span><span class="token plain">/bin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="jenkins-安装">Jenkins 安装<a href="#jenkins-安装" class="hash-link" aria-label="Direct link to Jenkins 安装" title="Direct link to Jenkins 安装">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="通过-rpm-安装-jenkins">通过 rpm 安装 jenkins<a href="#通过-rpm-安装-jenkins" class="hash-link" aria-label="Direct link to 通过 rpm 安装 jenkins" title="Direct link to 通过 rpm 安装 jenkins">​</a></h3>
<p>从 Jenkins 2.164（2019 年 2 月 10 日发布）和 LTS 2.164.1（ETA：3 月 14 日）开始，在 Jenkins 中全面支持 Java 11，后续支持 Java 17，需要按照 jdk 版本来适配 jenkins 版本</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https://pkg.origin.jenkins.io/opensuse-stable/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>由于项目 jdk 版本为 8，故此处选择版本 2.346.1</p>
<p><img decoding="async" loading="lazy" alt="查询版本" src="/en/assets/images/查询版本-0698cbf82fea92c126971f30b3b214a3.png" width="2950" height="1560" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="下载-rpm-软件包">下载 rpm 软件包<a href="#下载-rpm-软件包" class="hash-link" aria-label="Direct link to 下载 rpm 软件包" title="Direct link to 下载 rpm 软件包">​</a></h4>
<p>进入清华源，下载对应版本的 rpm 包</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://mirrors.tuna.tsinghua.edu.cn/jenkins/opensuse-stable/jenkins-2.346.3-1.2.noarch.rpm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="安装-jenkins">安装 jenkins<a href="#安装-jenkins" class="hash-link" aria-label="Direct link to 安装 jenkins" title="Direct link to 安装 jenkins">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">rpm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-ivh</span><span class="token plain"> jenkins-2.346.3-1.2.noarch.rpm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="启动-jenkins">启动 jenkins<a href="#启动-jenkins" class="hash-link" aria-label="Direct link to 启动 jenkins" title="Direct link to 启动 jenkins">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">service</span><span class="token plain"> jenkins start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="其他配置">其他配置<a href="#其他配置" class="hash-link" aria-label="Direct link to 其他配置" title="Direct link to 其他配置">​</a></h4>
<ul>
<li>如果需要修改端口号</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">vim</span><span class="token plain"> /etc/sysconfig/jenkins</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>安装完成后，与 jenkins 相关的几个文件目录</p>
<blockquote>
<p>/usr/lib/jenkins 文件夹下存放的安装的 jenkins jar 包</p>
</blockquote>
<blockquote>
<p>/etc/sysconfig/jenkins 该文件是 jenkins 的配置文件，可以配置用户，端口号等</p>
</blockquote>
<blockquote>
<p>/var/log/jenkins 文件夹下的 jenkins.log 是 jenkins 的日志文件</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="通过-zypper-安装-jenkins">通过 zypper 安装 jenkins<a href="#通过-zypper-安装-jenkins" class="hash-link" aria-label="Direct link to 通过 zypper 安装 jenkins" title="Direct link to 通过 zypper 安装 jenkins">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="添加-jenkins-repository">添加 Jenkins repository<a href="#添加-jenkins-repository" class="hash-link" aria-label="Direct link to 添加 Jenkins repository" title="Direct link to 添加 Jenkins repository">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">zypper</span><span class="token plain"> addrepo </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain"> https://pkg.jenkins.io/opensuse-stable/ jenkins</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="安装-jenkins-1">安装 Jenkins<a href="#安装-jenkins-1" class="hash-link" aria-label="Direct link to 安装 Jenkins" title="Direct link to 安装 Jenkins">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">zypper</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> jenkins</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="启动-jenkins-1">启动 jenkins<a href="#启动-jenkins-1" class="hash-link" aria-label="Direct link to 启动 jenkins" title="Direct link to 启动 jenkins">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 检查Jenkins服务状态</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> systemctl status jenkins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 设置为开机自启动</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> systemctl </span><span class="token builtin class-name">enable</span><span class="token plain"> jenkins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 启动Jenkins服务</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> systemctl start jenkins</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="jenkins-启动">Jenkins 启动<a href="#jenkins-启动" class="hash-link" aria-label="Direct link to Jenkins 启动" title="Direct link to Jenkins 启动">​</a></h2>
<p>jenkins 默认端口 8080，浏览器访问 <code>http://{jenkinsServerIP}:8080</code> 访问</p>
<p><img decoding="async" loading="lazy" alt="启动web控制台" src="/en/assets/images/启动web控制台-d4b7d3334d8b7c441a2796b022544d88.png" width="2930" height="1182" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="验证密钥">验证密钥<a href="#验证密钥" class="hash-link" aria-label="Direct link to 验证密钥" title="Direct link to 验证密钥">​</a></h4>
<p>打开/var/lib/jenkins/secrets/initialAdminPassword 文件，复制其内容粘贴到<code>管理员密码</code>处，点击<code>继续</code></p>
<p><img decoding="async" loading="lazy" alt="验证密钥" src="/en/assets/images/验证密钥-1b990fce2ed9c595ea881d6bfd440658.jpg" width="2942" height="1564" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="安装插件">安装插件<a href="#安装插件" class="hash-link" aria-label="Direct link to 安装插件" title="Direct link to 安装插件">​</a></h4>
<p><img decoding="async" loading="lazy" alt="安装插件" src="/en/assets/images/安装插件-a5e0d9154948343814dcc5e2c1ced307.jpg" width="2860" height="1534" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="安装插件1" src="/en/assets/images/安装插件1-d9492267b2959bde75103ec9898b5e4a.jpg" width="2916" height="1538" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="创建管理员账户">创建管理员账户<a href="#创建管理员账户" class="hash-link" aria-label="Direct link to 创建管理员账户" title="Direct link to 创建管理员账户">​</a></h4>
<p>使用默认 admin 账户</p>
<p><img decoding="async" loading="lazy" alt="创建管理员账户" src="/en/assets/images/创建管理员账户-493eaa643bee7a3f2742d0776c220644.jpg" width="2938" height="1566" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="配置jenkinsurl" src="/en/assets/images/配置jenkinsurl-57403e5e4db5a8b2ee2071bbf2735d0a.jpg" width="2938" height="1542" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="jenkins-配置">Jenkins 配置<a href="#jenkins-配置" class="hash-link" aria-label="Direct link to Jenkins 配置" title="Direct link to Jenkins 配置">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="全局安全配置">全局安全配置<a href="#全局安全配置" class="hash-link" aria-label="Direct link to 全局安全配置" title="Direct link to 全局安全配置">​</a></h3>
<p>默认情况下，jenkins 允许匿名用户做任何事情，这也就意味着谁都可以使用 jenkins 进行发布，这显然不够安全，jenkins 支持多种安全认证机制。进入下图设置页面，这里采用 jenkins 内置的用户名、密码认证机制，同时允许用户注册，匿名用户有管理权（首次配置时，建议允许匿名用户有管理权限，等其它用户权限都设置好以后，再去掉匿名用户的管理权）
<img decoding="async" loading="lazy" alt="安全配置" src="/en/assets/images/安全配置-395d3bf5fb0dc395d12b9569edb0a57c.jpg" width="2896" height="1560" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="全局工具配置">全局工具配置<a href="#全局工具配置" class="hash-link" aria-label="Direct link to 全局工具配置" title="Direct link to 全局工具配置">​</a></h3>
<p>进入：系统管理 / 全局工具设置（Global Tool Configuration）</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="maven-设置">maven 设置<a href="#maven-设置" class="hash-link" aria-label="Direct link to maven 设置" title="Direct link to maven 设置">​</a></h4>
<p><img decoding="async" loading="lazy" alt="全局配置-maven配置" src="/en/assets/images/全局配置-maven配置-76087735a6aa7a6690e31136251f0164.jpg" width="2936" height="1370" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="jdk-配置">jdk 配置<a href="#jdk-配置" class="hash-link" aria-label="Direct link to jdk 配置" title="Direct link to jdk 配置">​</a></h4>
<p>JDK 下不勾选“自动安装”，指定别名=oracle-jdk-8u371, JAVA_HOME=/opt/oracle-jdk-8u371</p>
<p><img decoding="async" loading="lazy" alt="全局配置-jdk" src="/en/assets/images/全局配置-jdk-adce6680ade8516672a7935aed9ea8ad.jpg" width="2904" height="1580" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="maven">Maven<a href="#maven" class="hash-link" aria-label="Direct link to Maven" title="Direct link to Maven">​</a></h4>
<p>Maven 下不勾选“自动安装”，指定别名=apache-maven-3.9.1, MAVEN_HOME=/opt/apache-maven-3.9.1</p>
<p><img decoding="async" loading="lazy" alt="全局配置-maven" src="/en/assets/images/全局配置-maven-e40e65b756c70681688bb3f80efe681d.jpg" width="2930" height="1484" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="插件管理">插件管理<a href="#插件管理" class="hash-link" aria-label="Direct link to 插件管理" title="Direct link to 插件管理">​</a></h3>
<p>首页 &gt;&gt; Manager Jenkins(系统管理)  &gt;&gt; Manage Plugins(插件管理)</p>
<p>安装以下插件</p>
<table><thead><tr><th>名称</th><th>描述</th></tr></thead><tbody><tr><td>Subversion</td><td>版本管理 SVN 的插件</td></tr><tr><td>Maven Integration</td><td>项目构建 Maven 的插件</td></tr></tbody></table>
<p>示例: 安装 Subversion 插件</p>
<p><img decoding="async" loading="lazy" alt="安装Subversion插件" src="/en/assets/images/安装Subversion插件-5f9fbf732c13b51c2cb853e3d755d821.jpg" width="2946" height="1558" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="安装Subversion插件1" src="/en/assets/images/安装Subversion插件1-90d39cafd3134129f970188ee9b3331f.jpg" width="2938" height="1570" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="java-项目构建">Java 项目构建<a href="#java-项目构建" class="hash-link" aria-label="Direct link to Java 项目构建" title="Direct link to Java 项目构建">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新建-java-任务">新建 Java 任务<a href="#新建-java-任务" class="hash-link" aria-label="Direct link to 新建 Java 任务" title="Direct link to 新建 Java 任务">​</a></h3>
<p>首页 &gt;&gt; 新建 Item(新建任务)  &gt;&gt; FreeStyle Project</p>
<p><img decoding="async" loading="lazy" alt="new-java-item" src="/en/assets/images/new-java-item-e8aef896685b7c3bc8243cbafeddf682.jpg" width="2950" height="1188" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="new-test-idm-item" src="/en/assets/images/new-test-idm-item-55b5eb4508386d2a8802dfa70b3c4a2c.jpg" width="2946" height="1544" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="general-配置">General 配置<a href="#general-配置" class="hash-link" aria-label="Direct link to General 配置" title="Direct link to General 配置">​</a></h3>
<p><img decoding="async" loading="lazy" alt="new-java-discard-old-build" src="/en/assets/images/new-java-discard-old-build-5921997c90739b784f3dee86adc6750e.jpg" width="2940" height="1560" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="源码管理">源码管理<a href="#源码管理" class="hash-link" aria-label="Direct link to 源码管理" title="Direct link to 源码管理">​</a></h3>
<p>指定源代码下载方式为<code>Subversion</code>，输入项目代码地址</p>
<p><img decoding="async" loading="lazy" alt="idm-source-manage" src="/en/assets/images/idm-source-manage-7da5de3428701bdfd950785bcf9fff06.jpg" width="2932" height="1546" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建凭据">创建凭据<a href="#创建凭据" class="hash-link" aria-label="Direct link to 创建凭据" title="Direct link to 创建凭据">​</a></h3>
<p><img decoding="async" loading="lazy" alt="new-credentials" src="/en/assets/images/new-credentials-b7d79f0864c0497b40d511aaf3aa5c2f.jpg" width="2934" height="1552" class="img_ev3q"></p>
<p>填写 Svn 的登录名和密码</p>
<p><img decoding="async" loading="lazy" alt="create-credentials" src="/en/assets/images/create-credentials-f198c34895f8287d4d5ea62a0eb5bdd8.jpg" width="2872" height="1556" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="build-triggers构建触发器配置">Build Triggers(构建触发器)配置<a href="#build-triggers构建触发器配置" class="hash-link" aria-label="Direct link to Build Triggers(构建触发器)配置" title="Direct link to Build Triggers(构建触发器)配置">​</a></h3>
<p>选中 Build periodically：周期性进行项目构建，这个是到指定的时间必须触发构建任务</p>
<p>选中 Poll SCM:定时检查源码变更，如果有更新就 checkout 最新 code 下来，然后执行构建动作</p>
<p>注：定时构建语法如下：(五颗星，中间用空格隔开）</p>
<p>* * * * *</p>
<p>第一颗*表示分钟，取值 0~59</p>
<p>第二颗*表示小时，取值 0~23</p>
<p>第三颗*表示一个月的第几天，取值 1~31</p>
<p>第四颗*表示第几月，取值 1~12</p>
<p>第五颗*表示一周中的第几天，取值 0~7，其中 0 和 7 代表的都是周日</p>
<p><img decoding="async" loading="lazy" alt="java-trigger" src="/en/assets/images/java-trigger-ff38c6280d6d6e12686b8919c4aa6ebb.jpg" width="2704" height="1560" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="构建">构建<a href="#构建" class="hash-link" aria-label="Direct link to 构建" title="Direct link to 构建">​</a></h3>
<p>添加构建步骤<code>Invoker top-level Maven targets</code></p>
<p><img decoding="async" loading="lazy" alt="invoke-top-maven" src="/en/assets/images/invoke-top-maven-3fc3020f0ee6df0220f3e4e2365a9627.jpg" width="2940" height="1506" class="img_ev3q"></p>
<p>指定 mvn 构建相关操作</p>
<p><img decoding="async" loading="lazy" alt="idm-maven-config" src="/en/assets/images/idm-maven-config-49ec004d9ef071189b10a1771cff39ba.jpg" width="2942" height="1556" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="执行构建">执行构建<a href="#执行构建" class="hash-link" aria-label="Direct link to 执行构建" title="Direct link to 执行构建">​</a></h3>
<p>首页 &gt;&gt; 新建 Item(新建任务)  &gt;&gt; FreeStyle Project</p>
<p><img decoding="async" loading="lazy" alt="查看Java构建结果" src="/en/assets/images/查看Java构建结果-b560a313c331795cd3ed34273eeb71a4.jpg" width="2862" height="1524" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="查看Java构建结果详情" src="/en/assets/images/查看Java构建结果详情-a7fdbe77b0140381e876de2eb67f7f60.jpg" width="2942" height="1560" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="集成-sonarqube">集成 SonarQube<a href="#集成-sonarqube" class="hash-link" aria-label="Direct link to 集成 SonarQube" title="Direct link to 集成 SonarQube">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sonarqube-简介">SonarQube 简介<a href="#sonarqube-简介" class="hash-link" aria-label="Direct link to SonarQube 简介" title="Direct link to SonarQube 简介">​</a></h3>
<p>SonarQube 是一个开源的代码质量管理系统，用于检测代码中的错误，漏洞和代码规范。它可以现有的 Gitlab、Jenkins 集成，以便在项目拉取后进行连续的代码检查。</p>
<p>Sonar 的安装分两个步骤：</p>
<p>　　第一步安装 sonarqube server 端</p>
<p>　　第二步，jenkins 集成 sonarqube-scanner（需要连接 sonar 服务端）</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sonarqube-安装">SonarQube 安装<a href="#sonarqube-安装" class="hash-link" aria-label="Direct link to SonarQube 安装" title="Direct link to SonarQube 安装">​</a></h3>
<p>SonarQube 7.8 是最后一个支持 MySQL 的版本，最后一个支持 jdk1.8 的版本，也就是说如果要使用 7.9 及以上的版本，SonarQube</p>
<p>的数据库就不能为 MySQL，并且需要 jdk11，目前公司使用的是 jdk1.8 的版本 ，所以选择了 SonarQube 7.8，下面是具体的安装步骤。</p>
<p>注意 SonarQube 7.8 只支持数据库 5.6 以及上 8.0 以下的版本，其他版本的 MySQL 不支持。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="安装-mysql-56">安装 MySQL 5.6<a href="#安装-mysql-56" class="hash-link" aria-label="Direct link to 安装 MySQL 5.6" title="Direct link to 安装 MySQL 5.6">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="检查是否已安装-mysql">检查是否已安装 MySQL<a href="#检查是否已安装-mysql" class="hash-link" aria-label="Direct link to 检查是否已安装 MySQL" title="Direct link to 检查是否已安装 MySQL">​</a></h5>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">rpm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-qa</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> mysql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="下载-mysql-安装包">下载 mysql 安装包<a href="#下载-mysql-安装包" class="hash-link" aria-label="Direct link to 下载 mysql 安装包" title="Direct link to 下载 mysql 安装包">​</a></h5>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://cdn.mysql.com//Downloads/MySQL-5.7/mysql-5.7.42-1.sles12.x86_64.rpm-bundle.tar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="解压下载文件">解压下载文件<a href="#解压下载文件" class="hash-link" aria-label="Direct link to 解压下载文件" title="Direct link to 解压下载文件">​</a></h5>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-xvf</span><span class="token plain"> mysql-5.7.42-1.sles12.x86_64.rpm-bundle.tar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="安装依赖-libatomic1">安装依赖 libatomic1<a href="#安装依赖-libatomic1" class="hash-link" aria-label="Direct link to 安装依赖 libatomic1" title="Direct link to 安装依赖 libatomic1">​</a></h5>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">zypper</span><span class="token plain"> search libatomic1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">zypper</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> libatomic1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="安装-mysql">安装 mysql<a href="#安装-mysql" class="hash-link" aria-label="Direct link to 安装 mysql" title="Direct link to 安装 mysql">​</a></h5>
<p>安装以下四个即可提供数据库服务。另外四个 rpm 包非必须安装。安装有依赖关系，必须按如下顺序安装</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">rpm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-ivh</span><span class="token plain"> mysql-community-common-5.7.42-1.sles12.x86_64.rpm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">rpm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-ivh</span><span class="token plain"> mysql-community-libs-5.7.42-1.sles12.x86_64.rpm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">rpm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-ivh</span><span class="token plain"> mysql-community-client-5.7.42-1.sles12.x86_64.rpm </span><span class="token parameter variable" style="color:#36acaa">--nodeps</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pm </span><span class="token parameter variable" style="color:#36acaa">-ivh</span><span class="token plain"> mysql-community-server-5.7.42-1.sles12.x86_64.rpm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>注：ivh 中， i-install 安装；v-verbose 进度条；h-hash 哈希校验</strong></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="启动-mysql">启动 MySQL<a href="#启动-mysql" class="hash-link" aria-label="Direct link to 启动 MySQL" title="Direct link to 启动 MySQL">​</a></h5>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">service</span><span class="token plain"> mysql start </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="查找临时密码">查找临时密码<a href="#查找临时密码" class="hash-link" aria-label="Direct link to 查找临时密码" title="Direct link to 查找临时密码">​</a></h5>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cat</span><span class="token plain">  /var/log/mysql/mysqld.log</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-05-06T03:24:20.815265Z </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Note</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> A temporary password is generated </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> root@localhost: E</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">BX?V</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">7t</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">.</span><span class="token comment" style="color:#999988;font-style:italic">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="登录-mysql">登录 mysql<a href="#登录-mysql" class="hash-link" aria-label="Direct link to 登录 mysql" title="Direct link to 登录 mysql">​</a></h5>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token parameter variable" style="color:#36acaa">-uroot</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-p</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>输入密码: <code>E(BX?V;7t&lt;.#</code></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="修改密码">修改密码<a href="#修改密码" class="hash-link" aria-label="Direct link to 修改密码" title="Direct link to 修改密码">​</a></h5>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SET PASSWORD </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PASSWORD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Root@123&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sonarqube-服务端安装">SonarQube 服务端安装<a href="#sonarqube-服务端安装" class="hash-link" aria-label="Direct link to SonarQube 服务端安装" title="Direct link to SonarQube 服务端安装">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="下载-sonarqube-安装包">下载 SonarQube 安装包<a href="#下载-sonarqube-安装包" class="hash-link" aria-label="Direct link to 下载 SonarQube 安装包" title="Direct link to 下载 SonarQube 安装包">​</a></h5>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://binaries.sonarsource.com/Distribution/sonarqube/sonarqube-7.8.zip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="解压到opt">解压到/opt<a href="#解压到opt" class="hash-link" aria-label="Direct link to 解压到/opt" title="Direct link to 解压到/opt">​</a></h5>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">unzip</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain"> /opt sonarqube-7.8.zip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="修改数据库配置">修改数据库配置<a href="#修改数据库配置" class="hash-link" aria-label="Direct link to 修改数据库配置" title="Direct link to 修改数据库配置">​</a></h5>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">vi</span><span class="token plain"> /opt/sonarqube-7.8/conf/sonar.properties</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="sonar-jdbc-config" src="/en/assets/images/sonar-jdbc-config-3ccfef5a7a14d643a123c4b453e54db8.jpg" width="2770" height="1070" class="img_ev3q"></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="修改系统进程最大打开文件数">修改系统进程最大打开文件数<a href="#修改系统进程最大打开文件数" class="hash-link" aria-label="Direct link to 修改系统进程最大打开文件数" title="Direct link to 修改系统进程最大打开文件数">​</a></h5>
<p>打开<code>vim /etc/security/limits.conf</code>在尾部添加</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">* soft nofile </span><span class="token number" style="color:#36acaa">65536</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* hard nofile </span><span class="token number" style="color:#36acaa">131072</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* soft nproc </span><span class="token number" style="color:#36acaa">65535</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* hard nproc </span><span class="token number" style="color:#36acaa">65535</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="修改-vmmax_map_count-的大小">修改 vm.max_map_count 的大小<a href="#修改-vmmax_map_count-的大小" class="hash-link" aria-label="Direct link to 修改 vm.max_map_count 的大小" title="Direct link to 修改 vm.max_map_count 的大小">​</a></h5>
<p><code>vim /etc/sysctl.conf</code>
在尾部添加以下内容：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">vm.max_map_count</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">655360</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>执行<code>sysctl -p</code>让配置生效</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="创建-sonar-用户">创建 sonar 用户<a href="#创建-sonar-用户" class="hash-link" aria-label="Direct link to 创建 sonar 用户" title="Direct link to 创建 sonar 用户">​</a></h5>
<p>不能使 root 用户启动 SonarQube，否则无法启动，创建一个 sonar 普通用户</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 新建用户组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">groupadd</span><span class="token plain"> sonar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 新建用户</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useradd</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-m</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-g</span><span class="token plain"> sonar sonar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">chown</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-R</span><span class="token plain"> sonar:sonar /opt/sonarqube-7.8/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="启动-sonarqube">启动 SonarQube<a href="#启动-sonarqube" class="hash-link" aria-label="Direct link to 启动 SonarQube" title="Direct link to 启动 SonarQube">​</a></h5>
<p>以 sonar 用户启动服务</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">su</span><span class="token plain"> sonar </span><span class="token parameter variable" style="color:#36acaa">-c</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/opt/sonarqube-7.8/bin/linux-x86-64/sonar.sh start&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>SonarQube 默认访问端口号为 9000，开放该端口号，如果是云服务器，那就就请在安全组中放行 9000 端口。
firewall-cmd --permanent --add-port=9000/tcp
firewall-cmd --reload</p>
</blockquote>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="访问-web-控制台">访问 web 控制台<a href="#访问-web-控制台" class="hash-link" aria-label="Direct link to 访问 web 控制台" title="Direct link to 访问 web 控制台">​</a></h5>
<p>使用 IP+端口进行访问，登录的用户名和密码都是: admin</p>
<p><img decoding="async" loading="lazy" alt="sonar-dashboard" src="/en/assets/images/sonar-dashboard-39928299d8926fc58677f74b41f28ba4.jpg" width="2936" height="1542" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="jenkins-整合-sonarqube">Jenkins 整合 SonarQube<a href="#jenkins-整合-sonarqube" class="hash-link" aria-label="Direct link to Jenkins 整合 SonarQube" title="Direct link to Jenkins 整合 SonarQube">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="jenkins-安装-sonarqube-scanner-for-jenkins-插件">Jenkins 安装 SonarQube Scanner for Jenkins 插件<a href="#jenkins-安装-sonarqube-scanner-for-jenkins-插件" class="hash-link" aria-label="Direct link to Jenkins 安装 SonarQube Scanner for Jenkins 插件" title="Direct link to Jenkins 安装 SonarQube Scanner for Jenkins 插件">​</a></h5>
<p><img decoding="async" loading="lazy" alt="install-sonarqube-scanner" src="/en/assets/images/install-sonarqube-scanner-1b4751986b3f7c9b14952d611012b713.jpg" width="2942" height="1226" class="img_ev3q"></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="生成-sonarqube-令牌">生成 SonarQube 令牌<a href="#生成-sonarqube-令牌" class="hash-link" aria-label="Direct link to 生成 SonarQube 令牌" title="Direct link to 生成 SonarQube 令牌">​</a></h5>
<p><img decoding="async" loading="lazy" alt="sonar-token-generate" src="/en/assets/images/sonar-token-generate-7ce24332d0d44b44936cc02c0d64f52c.jpg" width="2950" height="1354" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="sonar-token-generate1" src="/en/assets/images/sonar-token-generate1-abef36ffefde8c95322b561ebcabb8a1.jpg" width="2942" height="1412" class="img_ev3q"></p>
<p>复制并保存 token，后续不可见，此处生成的 token 值为: <code>bc3198df1dcc47416f5bd2e99c7737e1a48b1f3f</code></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="配置-jenkins-的-sonar-qube-信息">配置 Jenkins 的 Sonar Qube 信息<a href="#配置-jenkins-的-sonar-qube-信息" class="hash-link" aria-label="Direct link to 配置 Jenkins 的 Sonar Qube 信息" title="Direct link to 配置 Jenkins 的 Sonar Qube 信息">​</a></h5>
<p>Dashboard &gt; Config System</p>
<p><img decoding="async" loading="lazy" alt="jenkins-sonarqube-config" src="/en/assets/images/jenkins-sonarqube-config-91cf35238ee8feb7b543cd9410b5e5d5.jpg" width="2842" height="1546" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="jenkins-sonarqube-token-create" src="/en/assets/images/jenkins-sonarqube-token-create-3433f5d3b0884379f05dba8d40943f4d.jpg" width="2882" height="1474" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="jenkins-sonarqube-token-generate1" src="/en/assets/images/jenkins-sonarqube-token-generate1-566fe39025a8f0decd31eaaecfe449b5.jpg" width="2918" height="1548" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="jenkins-sonarqube-config1" src="/en/assets/images/jenkins-sonarqube-config1-c1e5363182b968dac77544822d79afb6.jpg" width="2938" height="1560" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="配置-sonar-scanner">配置 Sonar-scanner<a href="#配置-sonar-scanner" class="hash-link" aria-label="Direct link to 配置 Sonar-scanner" title="Direct link to 配置 Sonar-scanner">​</a></h4>
<p>Dashboard &gt; Global Tool Configuration</p>
<p><img decoding="async" loading="lazy" alt="jenkins-sonarqube-scanner-config" src="/en/assets/images/jenkins-sonarqube-scanner-config-1be06224c12f5230b6c1fc1479c1e248.jpg" width="2938" height="1556" class="img_ev3q"></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="配置-jenkins-构建任务的-sonar-scanner">配置 Jenkins 构建任务的 Sonar Scanner<a href="#配置-jenkins-构建任务的-sonar-scanner" class="hash-link" aria-label="Direct link to 配置 Jenkins 构建任务的 Sonar Scanner" title="Direct link to 配置 Jenkins 构建任务的 Sonar Scanner">​</a></h5>
<p><img decoding="async" loading="lazy" alt="projects-sonar-scanner-config" src="/en/assets/images/projects-sonar-scanner-config-5ad5ea054c846231eaf5567331038dab.jpg" width="2950" height="1562" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="project-sonar-scanner-config1" src="/en/assets/images/project-sonar-scanner-config1-bef2c9bf181c3ee5842ff2df96783f74.jpg" width="2930" height="1556" class="img_ev3q"></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="执行构建-1">执行构建<a href="#执行构建-1" class="hash-link" aria-label="Direct link to 执行构建" title="Direct link to 执行构建">​</a></h5>
<p><img decoding="async" loading="lazy" alt="execute-build" src="/en/assets/images/execute-build-fa12027af7bc04743d0429d903583cdd.jpg" width="2934" height="1456" class="img_ev3q"></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="查看-sonar-扫描结果">查看 sonar 扫描结果<a href="#查看-sonar-扫描结果" class="hash-link" aria-label="Direct link to 查看 sonar 扫描结果" title="Direct link to 查看 sonar 扫描结果">​</a></h5>
<p><img decoding="async" loading="lazy" alt="查看sonar扫描结果" src="/en/assets/images/查看sonar扫描结果-763fbd11f85c5dedf9a36b13347fbd18.jpg" width="2950" height="1470" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="sonar扫描详情" src="/en/assets/images/sonar扫描详情-b47b8380a628e65c11731a33eb8657e8.jpg" width="2950" height="1534" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="自动化测试">自动化测试<a href="#自动化测试" class="hash-link" aria-label="Direct link to 自动化测试" title="Direct link to 自动化测试">​</a></h3>
<p>jenkins 安装过后会默认创建 jenkins 用户，用来构建 maven 时遇到报错</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ERROR] Could not create local repository at /root/.m2/repository -&gt; [Help 1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">org.apache.maven.repository.LocalRepositoryNotAccessibleException: Could not create local repository at /root/.m2/repository</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>需要修改 jenkins 为 root 权限，修改文件</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">vim</span><span class="token plain"> /usr/lib/systemd/system/jenkins.service</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>修改内容</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">User</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">Group</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">root</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><a href="https://www.cnblogs.com/xujingyang/p/16863221.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/xujingyang/p/16863221.html</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/en/docs/tags/docker">Docker</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/en/docs/tags/jenkins">Jenkins</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/en/docs/tags/cloud-native">CloudNative</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/CloudNative/Docker/Docker构建Jenkins/Docker构建Jenkins.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/docs/cloud-native/docker/build-onlyoffice-cluster"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Docker 构建 OnlyOffice 集群</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#软件环境" class="table-of-contents__link toc-highlight">软件环境</a></li><li><a href="#前置准备" class="table-of-contents__link toc-highlight">前置准备</a><ul><li><a href="#安装-jdk" class="table-of-contents__link toc-highlight">安装 jdk</a></li><li><a href="#安装-maven" class="table-of-contents__link toc-highlight">安装 Maven</a></li></ul></li><li><a href="#jenkins-安装" class="table-of-contents__link toc-highlight">Jenkins 安装</a><ul><li><a href="#通过-rpm-安装-jenkins" class="table-of-contents__link toc-highlight">通过 rpm 安装 jenkins</a><ul><li><a href="#下载-rpm-软件包" class="table-of-contents__link toc-highlight">下载 rpm 软件包</a></li><li><a href="#安装-jenkins" class="table-of-contents__link toc-highlight">安装 jenkins</a></li><li><a href="#启动-jenkins" class="table-of-contents__link toc-highlight">启动 jenkins</a></li><li><a href="#其他配置" class="table-of-contents__link toc-highlight">其他配置</a></li></ul></li><li><a href="#通过-zypper-安装-jenkins" class="table-of-contents__link toc-highlight">通过 zypper 安装 jenkins</a><ul><li><a href="#添加-jenkins-repository" class="table-of-contents__link toc-highlight">添加 Jenkins repository</a></li><li><a href="#安装-jenkins-1" class="table-of-contents__link toc-highlight">安装 Jenkins</a></li><li><a href="#启动-jenkins-1" class="table-of-contents__link toc-highlight">启动 jenkins</a></li></ul></li></ul></li><li><a href="#jenkins-启动" class="table-of-contents__link toc-highlight">Jenkins 启动</a><ul><li><a href="#验证密钥" class="table-of-contents__link toc-highlight">验证密钥</a></li><li><a href="#安装插件" class="table-of-contents__link toc-highlight">安装插件</a></li><li><a href="#创建管理员账户" class="table-of-contents__link toc-highlight">创建管理员账户</a></li></ul></li><li><a href="#jenkins-配置" class="table-of-contents__link toc-highlight">Jenkins 配置</a><ul><li><a href="#全局安全配置" class="table-of-contents__link toc-highlight">全局安全配置</a></li><li><a href="#全局工具配置" class="table-of-contents__link toc-highlight">全局工具配置</a><ul><li><a href="#maven-设置" class="table-of-contents__link toc-highlight">maven 设置</a></li><li><a href="#jdk-配置" class="table-of-contents__link toc-highlight">jdk 配置</a></li><li><a href="#maven" class="table-of-contents__link toc-highlight">Maven</a></li></ul></li><li><a href="#插件管理" class="table-of-contents__link toc-highlight">插件管理</a></li></ul></li><li><a href="#java-项目构建" class="table-of-contents__link toc-highlight">Java 项目构建</a><ul><li><a href="#新建-java-任务" class="table-of-contents__link toc-highlight">新建 Java 任务</a></li><li><a href="#general-配置" class="table-of-contents__link toc-highlight">General 配置</a></li><li><a href="#源码管理" class="table-of-contents__link toc-highlight">源码管理</a></li><li><a href="#创建凭据" class="table-of-contents__link toc-highlight">创建凭据</a></li><li><a href="#build-triggers构建触发器配置" class="table-of-contents__link toc-highlight">Build Triggers(构建触发器)配置</a></li><li><a href="#构建" class="table-of-contents__link toc-highlight">构建</a></li><li><a href="#执行构建" class="table-of-contents__link toc-highlight">执行构建</a></li></ul></li><li><a href="#集成-sonarqube" class="table-of-contents__link toc-highlight">集成 SonarQube</a><ul><li><a href="#sonarqube-简介" class="table-of-contents__link toc-highlight">SonarQube 简介</a></li><li><a href="#sonarqube-安装" class="table-of-contents__link toc-highlight">SonarQube 安装</a><ul><li><a href="#安装-mysql-56" class="table-of-contents__link toc-highlight">安装 MySQL 5.6</a><ul><li><a href="#检查是否已安装-mysql" class="table-of-contents__link toc-highlight">检查是否已安装 MySQL</a></li><li><a href="#下载-mysql-安装包" class="table-of-contents__link toc-highlight">下载 mysql 安装包</a></li><li><a href="#解压下载文件" class="table-of-contents__link toc-highlight">解压下载文件</a></li><li><a href="#安装依赖-libatomic1" class="table-of-contents__link toc-highlight">安装依赖 libatomic1</a></li><li><a href="#安装-mysql" class="table-of-contents__link toc-highlight">安装 mysql</a></li><li><a href="#启动-mysql" class="table-of-contents__link toc-highlight">启动 MySQL</a></li><li><a href="#查找临时密码" class="table-of-contents__link toc-highlight">查找临时密码</a></li><li><a href="#登录-mysql" class="table-of-contents__link toc-highlight">登录 mysql</a></li><li><a href="#修改密码" class="table-of-contents__link toc-highlight">修改密码</a></li></ul></li><li><a href="#sonarqube-服务端安装" class="table-of-contents__link toc-highlight">SonarQube 服务端安装</a><ul><li><a href="#下载-sonarqube-安装包" class="table-of-contents__link toc-highlight">下载 SonarQube 安装包</a></li><li><a href="#解压到opt" class="table-of-contents__link toc-highlight">解压到/opt</a></li><li><a href="#修改数据库配置" class="table-of-contents__link toc-highlight">修改数据库配置</a></li><li><a href="#修改系统进程最大打开文件数" class="table-of-contents__link toc-highlight">修改系统进程最大打开文件数</a></li><li><a href="#修改-vmmax_map_count-的大小" class="table-of-contents__link toc-highlight">修改 vm.max_map_count 的大小</a></li><li><a href="#创建-sonar-用户" class="table-of-contents__link toc-highlight">创建 sonar 用户</a></li><li><a href="#启动-sonarqube" class="table-of-contents__link toc-highlight">启动 SonarQube</a></li><li><a href="#访问-web-控制台" class="table-of-contents__link toc-highlight">访问 web 控制台</a></li></ul></li><li><a href="#jenkins-整合-sonarqube" class="table-of-contents__link toc-highlight">Jenkins 整合 SonarQube</a><ul><li><a href="#jenkins-安装-sonarqube-scanner-for-jenkins-插件" class="table-of-contents__link toc-highlight">Jenkins 安装 SonarQube Scanner for Jenkins 插件</a></li><li><a href="#生成-sonarqube-令牌" class="table-of-contents__link toc-highlight">生成 SonarQube 令牌</a></li><li><a href="#配置-jenkins-的-sonar-qube-信息" class="table-of-contents__link toc-highlight">配置 Jenkins 的 Sonar Qube 信息</a></li></ul></li><li><a href="#配置-sonar-scanner" class="table-of-contents__link toc-highlight">配置 Sonar-scanner</a><ul><li><a href="#配置-jenkins-构建任务的-sonar-scanner" class="table-of-contents__link toc-highlight">配置 Jenkins 构建任务的 Sonar Scanner</a></li><li><a href="#执行构建-1" class="table-of-contents__link toc-highlight">执行构建</a></li><li><a href="#查看-sonar-扫描结果" class="table-of-contents__link toc-highlight">查看 sonar 扫描结果</a></li></ul></li></ul></li><li><a href="#自动化测试" class="table-of-contents__link toc-highlight">自动化测试</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en/docs/Tutorial/React Native跨端开发环境的副本/React Native跨端开发环境">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ilcb" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 DocHub, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>